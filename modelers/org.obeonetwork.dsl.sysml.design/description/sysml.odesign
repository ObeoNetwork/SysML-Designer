<?xml version="1.0" encoding="UTF-8"?>
<description:Group xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:description="http://www.obeo.fr/dsl/viewpoint/description/1.1.0" xmlns:description_1="http://www.obeo.fr/dsl/viewpoint/table/description/1.1.0" xmlns:style="http://www.obeo.fr/dsl/viewpoint/description/style/1.1.0" xmlns:tool="http://www.obeo.fr/dsl/viewpoint/description/tool/1.1.0" name="SysML modelers" version="6.5.0.201210011230">
  <ownedViewpoints name="SysML" modelFileExtension="uml">
    <ownedRepresentations xsi:type="description:DiagramDescription" dropDescriptions="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.0/@ownedTools[name='BDD_Drop']" name="Block Definition Diagram" titleExpression="['bdd ' + if self.oclIsKindOf(uml::Package) then ' [package] ' else ' [block]  ' endif + self.name + ' [' + self.name + ' diagram]'/]" domainClass="uml.NamedElement" preconditionExpression="[self.oclIsKindOf(uml::Package) or self->filter(uml::Class).getStereotypeApplications()->filter(sysml::blocks::Block)->size() > 0/]" enablePopupBars="true">
      <metamodel href="platform:/plugin/org.eclipse.uml2.uml/model/UML.ecore#/"/>
      <metamodel href="http://www.eclipse.org/papyrus/0.7.0/SysML#/"/>
      <defaultLayer name="BDDLayer">
        <nodeMappings name="BDD_Dimension" preconditionExpression="[self.getStereotypeApplications()->filter(sysml::blocks::Dimension)->size() > 0/]" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.5/@subSections[name='BDD%20Delete%20Objects']/@ownedTools[name='Delete%20Dimension']" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='Edit%20Dimension%20Name']" createElements="false" semanticElements="[self->union(self.getStereotypeApplications())/]" domainClass="uml.InstanceSpecification">
          <style xsi:type="style:SquareDescription" labelExpression="[computeUmlLabel()/]" iconPath="/org.eclipse.papyrus.sysml/icons/blocks/Dimension.gif" tooltipExpression="[name/]" sizeComputationExpression="5" labelPosition="node" resizeKind="NSEW" width="13" height="5" color="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BlueDataType']">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
          <conditionnalStyles predicateExpression="[self.eContainer() &lt;> container/]">
            <style xsi:type="style:SquareDescription" labelExpression="[computeUmlLabel()/]" iconPath="/org.eclipse.papyrus.sysml/icons/blocks/Dimension.gif" tooltipExpression="[name/]" sizeComputationExpression="5" labelPosition="node" resizeKind="NSEW" width="13" height="5" color="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BlueDataType']">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </conditionnalStyles>
        </nodeMappings>
        <nodeMappings name="BDD_Unit" preconditionExpression="[self.getStereotypeApplications()->filter(sysml::blocks::Unit)->size() > 0/]" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.5/@subSections[name='BDD%20Delete%20Objects']/@ownedTools[name='Delete%20Unit']" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='Edit%20Unit%20Name']" createElements="false" semanticElements="[self->union(self.getStereotypeApplications())/]" domainClass="uml.InstanceSpecification">
          <style xsi:type="style:SquareDescription" labelExpression="[computeUmlLabel()/]" iconPath="/org.eclipse.papyrus.sysml/icons/blocks/Unit.gif" tooltipExpression="[name/]" sizeComputationExpression="5" labelPosition="node" resizeKind="NSEW" width="13" height="5" color="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BlueDataType']">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
          <conditionnalStyles predicateExpression="[self.eContainer() &lt;> container/]">
            <style xsi:type="style:SquareDescription" labelExpression="[computeUmlLabel()/]" iconPath="/org.eclipse.papyrus.sysml/icons/blocks/Unit.gif" tooltipExpression="[name/]" sizeComputationExpression="5" labelPosition="node" resizeKind="NSEW" width="13" height="5" color="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BlueDataType']">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </conditionnalStyles>
        </nodeMappings>
        <nodeMappings name="BDD_Actor" semanticCandidatesExpression="[self->filter(uml::Association).getTarget().type/]" createElements="false" documentation="Mapping to create actors" domainClass="uml.Actor">
          <labelDirectEdit href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Reused%20Description']/@toolSection/@ownedTools[name='GenericServiceDirectEdit']"/>
          <style xsi:type="style:WorkspaceImageDescription" labelSize="10" showIcon="false" labelExpression="[name/]" resizeKind="NSEW" workspacePath="/org.obeonetwork.dsl.uml2.design/images/actor.svg">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
          <conditionnalStyles predicateExpression="[self.eContainer() &lt;> container/]">
            <style xsi:type="style:WorkspaceImageDescription" labelSize="10" showIcon="false" labelExpression="[name/]" resizeKind="NSEW" workspacePath="/org.obeonetwork.dsl.uml2.design/images/actor.svg">
              <borderColor xsi:type="description:UserFixedColor" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@userColorsPalettes[name='UMLPalette']/@entries[name='very%20light%20gray']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </conditionnalStyles>
        </nodeMappings>
        <edgeMappings name="BDD_Generalization" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.5/@subSections[name='BDD%20Delete%20Edges']/@ownedTools[name='Delete%20Generalization']" semanticCandidatesExpression="&lt;%$diagram.getNodeInverseRefs(&quot;Generalization&quot;)%>" semanticElements="[self/]" sourceMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Actor'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_DataType'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Interface']" targetMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Actor'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_DataType'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Interface']" targetFinderExpression="[general/]" sourceFinderExpression="[owner/]" targetExpression="[self/]" domainClass="uml.Generalization" useDomainElement="true">
          <style targetArrow="InputClosedArrow" sizeComputationExpression="1">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <centerLabelStyleDescription showIcon="false">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
          <reconnections href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@toolSections.2/@ownedTools[name='Reconnect']"/>
        </edgeMappings>
        <edgeMappings name="BDD_Association" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.5/@subSections[name='BDD%20Delete%20Edges']/@ownedTools[name='Delete%20Association']" semanticCandidatesExpression="&lt;%$diagram.getNodeInverseRefs(&quot;Association&quot;)%>" semanticElements="[self.getSemanticElements()/]" sourceMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Actor'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_DataType'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Enumeration'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_PrimitiveType']" targetMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Actor'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_DataType'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Enumeration'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_PrimitiveType']" targetFinderExpression="[getTarget().type/]" sourceFinderExpression="[getSource().type/]" targetExpression="[self/]" domainClass="uml.Association" useDomainElement="true">
          <labelDirectEdit href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Reused%20Description']/@toolSection/@ownedTools[name='GenericServiceDirectEdit']"/>
          <style targetArrow="NoDecoration" sizeComputationExpression="1">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <beginLabelStyleDescription showIcon="false" labelExpression="[getSource().computeAssociationEndLabel()/]">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </beginLabelStyleDescription>
            <centerLabelStyleDescription showIcon="false" labelExpression="[computeUmlLabel()/]">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
            <endLabelStyleDescription showIcon="false" labelExpression="[getTarget().computeAssociationEndLabel()/]">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </endLabelStyleDescription>
          </style>
          <reconnections href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@toolSections.2/@ownedTools[name='Reconnect']"/>
        </edgeMappings>
        <edgeMappings name="BDD_InterfaceRealization" semanticCandidatesExpression="&lt;%$diagram.getNodeInverseRefs(&quot;InterfaceRealization&quot;)%>" semanticElements="[self/]" sourceMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Actor']" targetMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Interface']" targetFinderExpression="[supplier/]" sourceFinderExpression="[client/]" targetExpression="[self/]" domainClass="uml.InterfaceRealization" useDomainElement="true">
          <style lineStyle="dash" targetArrow="InputClosedArrow" sizeComputationExpression="1">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <centerLabelStyleDescription showIcon="false">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
          <reconnections href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@toolSections.2/@ownedTools[name='Reconnect']"/>
        </edgeMappings>
        <edgeMappings name="BDD_Dependency" preconditionExpression="[not(self.oclIsKindOf(uml::InterfaceRealization))/]" semanticCandidatesExpression="&lt;%$diagram.getNodeInverseRefs(&quot;Dependency&quot;)%>" semanticElements="[self/]" sourceMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Actor'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_DataType'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Enumeration'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Interface'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_PrimitiveType'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@optionalLayers[name='BDD%20Parametric%20Layer']/@containerMappings[name='BDD_ConstraintBlock'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_NestedPackage'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Dimension'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Unit']" targetMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Actor'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_DataType'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Dimension'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Enumeration'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Interface'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_PrimitiveType'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@optionalLayers[name='BDD%20Parametric%20Layer']/@containerMappings[name='BDD_ConstraintBlock'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_NestedPackage'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Unit']" targetFinderExpression="[supplier/]" sourceFinderExpression="[client/]" targetExpression="[self/]" domainClass="uml.Dependency" useDomainElement="true">
          <labelDirectEdit href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Reused%20Description']/@toolSection/@ownedTools[name='GenericServiceDirectEdit']"/>
          <style lineStyle="dash" sizeComputationExpression="1">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="[name/]">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
          <conditionnalStyles predicateExpression="[oclIsKindOf(uml::Usage)/]">
            <style lineStyle="dash" sizeComputationExpression="1">
              <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
              <centerLabelStyleDescription showIcon="false" labelExpression="&lt;&lt;use>>">
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </centerLabelStyleDescription>
            </style>
          </conditionnalStyles>
          <reconnections href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@toolSections.2/@ownedTools[name='Reconnect']"/>
        </edgeMappings>
        <containerMappings xsi:type="description:ContainerMappingImport" name="BDD_Enumeration" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.5/@subSections[name='BDD%20Delete%20Objects']/@ownedTools[name='Delete%20Enumeration']" listContainer="true" hideSubMappings="true">
          <reusedNodeMappings href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@containerMappings[name='CD_Enumeration']/@subNodeMappings[name='CD_EnumerationLiteral']"/>
          <style xsi:type="style:FlatContainerStyleDescription" labelExpression="[computeUmlLabel()/]" tooltipExpression="[name/]" backgroundStyle="GradientTopToBottom" foregroundColor="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BlueDataType']">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
          </style>
          <conditionnalStyles predicateExpression="[self.eContainer() &lt;> container/]">
            <style xsi:type="style:FlatContainerStyleDescription" labelExpression="[computeUmlLabel()/]" tooltipExpression="[name/]" backgroundStyle="GradientTopToBottom" foregroundColor="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BlueDataType']">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            </style>
          </conditionnalStyles>
          <importedMapping href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@containerMappings[name='CD_Enumeration']"/>
        </containerMappings>
        <containerMappings xsi:type="description:ContainerMappingImport" name="BDD_NestedPackage" detailDescriptions="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.6/@ownedTools[name='Block%20Definition%20Diagram%20creation']" createElements="false" doubleClickDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.6/@ownedTools[name='BDD_DoubleClickToBBD']" reusedNodeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Dimension'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Unit']" reusedContainerMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Enumeration'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_DataType'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Interface'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_PrimitiveType'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@optionalLayers[name='BDD%20Requirements%20Layer']/@containerMappings[name='BDD_RequirementsSatisfy'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_NestedPackage']" hideSubMappings="true">
          <style xsi:type="style:FlatContainerStyleDescription" labelSize="10" labelExpression="[computeUmlLabel()/]" labelAlignment="LEFT" backgroundStyle="GradientTopToBottom">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_gray']"/>
            <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            <labelBorderStyle href="environment:/viewpoint#//@labelBorderStyles/@labelBorderStyleDescriptions.0"/>
          </style>
          <conditionnalStyles predicateExpression="[self.eContainer() &lt;> container/]">
            <style xsi:type="style:FlatContainerStyleDescription" labelSize="10" labelExpression="[computeUmlLabel()/]" labelAlignment="LEFT" backgroundStyle="GradientTopToBottom">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_gray']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_gray']"/>
              <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
              <labelBorderStyle href="environment:/viewpoint#//@labelBorderStyles/@labelBorderStyleDescriptions.0"/>
            </style>
          </conditionnalStyles>
          <importedMapping href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@containerMappings[name='CD_Package']"/>
        </containerMappings>
        <containerMappings name="BDD_Block" detailDescriptions="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.6/@ownedTools[name='Internal%20Block%20Diagram%20creation'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.6/@ownedTools[name='Block%20Definition%20Diagram%20creation'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.6/@ownedTools[name='Parametric%20Diagram%20creation']" navigationDescriptions="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.6/@ownedTools[name='Internal%20Block%20Diagram%20navigation'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.6/@ownedTools[name='Parametric%20Diagram%20navigation']" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.5/@subSections[name='BDD%20Delete%20Objects']/@ownedTools[name='Delete%20Block']" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='Edit%20Block%20Name%20and%20Type']" createElements="false" semanticElements="[self->union(self.getStereotypeApplications())/]" doubleClickDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.6/@ownedTools[name='BDD_DoubleClickToIBD']" domainClass="uml.Class" listContainer="true">
          <subNodeMappings name="BDD_Function" detailDescriptions="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.6/@ownedTools[name='Function%20description%20creation']" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.5/@subSections[name='BDD%20Delete%20Objects']/@ownedTools[name='Delete%20Function']" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='Edit%20Function%20Name']" semanticCandidatesExpression="[ownedBehavior/]" domainClass="uml.Activity">
            <style xsi:type="style:SquareDescription" labelExpression="[computeUmlLabel()/]" tooltipExpression="[computeUmlLabel()/]">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_blue']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_blue']"/>
            </style>
          </subNodeMappings>
          <subNodeMappings name="BDD_Property" preconditionExpression="[if diagram.isLayerActivated('BDD Parametric Layer') = false then getStereotypeApplications()->filter(sysml::constraints::ConstraintProperty)->size() = 0 and not(oclIsKindOf(uml::Port)) else not(oclIsKindOf(uml::Port)) endif/]" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='Edit%20Property%20Name%20and%20Type']" semanticCandidatesExpression="[ownedAttribute/]" doubleClickDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='BDD%20Select%20Type%20for%20Block%20Property']" domainClass="uml.Property">
            <style xsi:type="style:SquareDescription" labelExpression="[computeUmlLabel()/]" labelAlignment="LEFT" tooltipExpression="[computeUmlTooltip()/]" sizeComputationExpression="1">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            </style>
          </subNodeMappings>
          <reusedNodeMappings href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@containerMappings[name='CD_ReusedMappingForFeatures']/@subNodeMappings[name='CD_Operation']"/>
          <style xsi:type="style:FlatContainerStyleDescription" labelExpression="[computeUmlLabel()/]" tooltipExpression="[name/]" backgroundStyle="GradientTopToBottom" foregroundColor="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BlueBlock']">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
          </style>
          <conditionnalStyles predicateExpression="[self.isAbstract and (self.eContainer() = container)/]">
            <style xsi:type="style:FlatContainerStyleDescription" labelSize="10" labelFormat="italic" labelExpression="[computeUmlLabel()/]" backgroundStyle="GradientTopToBottom">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
              <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_blue']"/>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="[not(self.isAbstract) and (self.eContainer() &lt;> container)/]">
            <style xsi:type="style:FlatContainerStyleDescription" labelExpression="[computeUmlLabel()/]" tooltipExpression="[name/]" backgroundStyle="GradientTopToBottom" foregroundColor="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BlueBlock']">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="[self.isAbstract and (self.eContainer() &lt;> container/)]">
            <style xsi:type="style:FlatContainerStyleDescription" labelSize="10" labelFormat="italic" labelExpression="[computeUmlLabel()/]" backgroundStyle="GradientTopToBottom">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
              <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_blue']"/>
            </style>
          </conditionnalStyles>
        </containerMappings>
        <containerMappings name="BDD_Interface" createElements="false" semanticElements="[self->union(self.getStereotypeApplications())/]" domainClass="uml.Interface" listContainer="true">
          <labelDirectEdit href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Reused%20Description']/@toolSection/@ownedTools[name='GenericServiceDirectEdit']"/>
          <reusedNodeMappings href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@containerMappings[name='CD_ReusedMappingForFeatures']/@subNodeMappings[name='CD_Operation']"/>
          <reusedNodeMappings href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@containerMappings[name='CD_ReusedMappingForFeatures']/@subNodeMappings[name='CD_Property']"/>
          <style xsi:type="style:FlatContainerStyleDescription" labelExpression="[computeUmlLabel()/]" tooltipExpression="[name/]" backgroundStyle="GradientTopToBottom">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_blue']"/>
          </style>
          <conditionnalStyles predicateExpression="[self.eContainer() &lt;> container/]">
            <style xsi:type="style:FlatContainerStyleDescription" labelExpression="[computeUmlLabel()/]" tooltipExpression="[name/]" backgroundStyle="GradientTopToBottom">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
              <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_blue']"/>
            </style>
          </conditionnalStyles>
        </containerMappings>
        <containerMappings name="BDD_DataType" preconditionExpression="[self->filter(uml::PrimitiveType)->isEmpty()/]" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.5/@subSections[name='BDD%20Delete%20Objects']/@ownedTools[name='Delete%20DataTypeValueType']" createElements="false" semanticElements="[self->union(self.getStereotypeApplications())/]" domainClass="uml.DataType" listContainer="true">
          <labelDirectEdit href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Reused%20Description']/@toolSection/@ownedTools[name='GenericServiceDirectEdit']"/>
          <subNodeMappings name="BDD_DTVTUnit" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.5/@subSections[name='BDD%20Delete%20Objects']/@ownedTools[name='Delete%20PTVTUnit']" semanticCandidatesExpression="&lt;%getStereotypeApplications().filter(&quot;blocks.ValueType&quot;)[base_DataType.filter(&quot;uml.DataType&quot;)].unit.base_InstanceSpecification%>" domainClass="uml.InstanceSpecification">
            <style xsi:type="style:SquareDescription" iconPath="/org.eclipse.papyrus.sysml/icons/blocks/Unit.gif" labelAlignment="LEFT" tooltipExpression="[name/]">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            </style>
          </subNodeMappings>
          <subNodeMappings name="BDD_DTVTDimension" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.5/@subSections[name='BDD%20Delete%20Objects']/@ownedTools[name='Delete%20PTVTDimension']" semanticCandidatesExpression="&lt;%getStereotypeApplications().filter(&quot;blocks.ValueType&quot;)[base_DataType.filter(&quot;uml.DataType&quot;)].dimension.base_InstanceSpecification%>" domainClass="uml.InstanceSpecification">
            <style xsi:type="style:SquareDescription" iconPath="/org.eclipse.papyrus.sysml/icons/blocks/Dimension.gif" labelAlignment="LEFT" tooltipExpression="[name/]">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            </style>
          </subNodeMappings>
          <reusedNodeMappings href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@containerMappings[name='CD_ReusedMappingForFeatures']/@subNodeMappings[name='CD_Operation']"/>
          <reusedNodeMappings href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@containerMappings[name='CD_ReusedMappingForFeatures']/@subNodeMappings[name='CD_Property']"/>
          <style xsi:type="style:FlatContainerStyleDescription" labelExpression="[computeUmlLabel()/]" tooltipExpression="[name/]" backgroundStyle="GradientTopToBottom" foregroundColor="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BlueDataType']">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
          </style>
          <conditionnalStyles predicateExpression="[self.isAbstract and (self.eContainer() = container)/]">
            <style xsi:type="style:FlatContainerStyleDescription" borderSizeComputationExpression="1" labelSize="10" labelFormat="italic" labelExpression="[computeUmlLabel()/]">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
              <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_blue']"/>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="[not(self.isAbstract) and (self.eContainer() &lt;> container)/]">
            <style xsi:type="style:FlatContainerStyleDescription" labelExpression="[computeUmlLabel()/]" tooltipExpression="[name/]" backgroundStyle="GradientTopToBottom" foregroundColor="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BlueDataType']">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="[self.isAbstract and (self.eContainer() &lt;> container/)]">
            <style xsi:type="style:FlatContainerStyleDescription" borderSizeComputationExpression="1" labelSize="10" labelFormat="italic" labelExpression="[computeUmlLabel()/]">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
              <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_blue']"/>
            </style>
          </conditionnalStyles>
        </containerMappings>
        <containerMappings name="BDD_PrimitiveType" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.5/@subSections[name='BDD%20Delete%20Objects']/@ownedTools[name='Delete%20PrimitiveTypeValueType']" createElements="false" semanticElements="[self->union(self.getStereotypeApplications())/]" domainClass="uml.PrimitiveType" listContainer="true">
          <labelDirectEdit href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Reused%20Description']/@toolSection/@ownedTools[name='GenericServiceDirectEdit']"/>
          <subNodeMappings name="BDD_PTVTUnit" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.5/@subSections[name='BDD%20Delete%20Objects']/@ownedTools[name='Delete%20PTVTUnit']" semanticCandidatesExpression="&lt;%getStereotypeApplications().filter(&quot;blocks.ValueType&quot;)[base_DataType.filter(&quot;uml.PrimitiveType&quot;)].unit.base_InstanceSpecification%>" doubleClickDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='BDD%20Select%20Unit%20for%20PTVT']" domainClass="uml.InstanceSpecification">
            <style xsi:type="style:SquareDescription" iconPath="/org.eclipse.papyrus.sysml/icons/blocks/Unit.gif" labelAlignment="LEFT" tooltipExpression="[name/]">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            </style>
          </subNodeMappings>
          <subNodeMappings name="BDD_PTVTDimension" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.5/@subSections[name='BDD%20Delete%20Objects']/@ownedTools[name='Delete%20PTVTDimension']" semanticCandidatesExpression="&lt;%getStereotypeApplications().filter(&quot;blocks.ValueType&quot;)[base_DataType.filter(&quot;uml.PrimitiveType&quot;)].dimension.base_InstanceSpecification%>" doubleClickDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='BDD%20Select%20Dimension%20for%20PTVT']" domainClass="uml.InstanceSpecification">
            <style xsi:type="style:SquareDescription" iconPath="/org.eclipse.papyrus.sysml/icons/blocks/Dimension.gif" labelAlignment="LEFT" tooltipExpression="[name/]">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            </style>
          </subNodeMappings>
          <style xsi:type="style:FlatContainerStyleDescription" labelExpression="[computeUmlLabel()/]" tooltipExpression="[name/]" backgroundStyle="GradientTopToBottom" foregroundColor="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BluePrimitiveType']">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
          </style>
          <conditionnalStyles predicateExpression="[self.eContainer() &lt;> container/]">
            <style xsi:type="style:FlatContainerStyleDescription" labelExpression="[computeUmlLabel()/]" tooltipExpression="[name/]" backgroundStyle="GradientTopToBottom" foregroundColor="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BluePrimitiveType']">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            </style>
          </conditionnalStyles>
        </containerMappings>
        <toolSections name="BDD_ExistingElements" label="Existing Elements">
          <ownedTools xsi:type="tool:SelectionWizardDescription" name="BDD_AddExistingElements" label="Add" precondition="&lt;%filter(&quot;Package&quot;)%>" forceRefresh="true" candidatesExpression="&lt;%self.getValidsForBlockDefinitionDiagram()%>" multiple="true" tree="true" rootExpression="&lt;%getAllRootsInSession().filter(&quot;Model&quot;)%>" childrenExpression="&lt;%eContents()%>" iconPath="/org.eclipse.search/icons/full/etool16/search.gif" windowTitle="Select element to add in current representation">
            <element name="element"/>
            <containerView name="containerView"/>
            <container name="container"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                <subModelOperations xsi:type="tool:For" expression="&lt;%$element%>" iteratorName="selection">
                  <subModelOperations xsi:type="tool:Switch">
                    <cases conditionExpression="[selection->filter(Class)->size()>0/]">
                      <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::blocks::Block)->size() > 0/]">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block']" containerViewExpression="[containerView/]"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::constraints::ConstraintBlock)->size() > 0/]">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@optionalLayers[name='BDD%20Parametric%20Layer']/@containerMappings[name='BDD_ConstraintBlock']" containerViewExpression="[containerView/]"/>
                      </subModelOperations>
                    </cases>
                    <cases conditionExpression="[selection->filter(Interface)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Interface']" containerViewExpression="[containerView/]"/>
                    </cases>
                    <cases conditionExpression="[selection->filter(Enumeration)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Enumeration']" containerViewExpression="[containerView/]"/>
                    </cases>
                    <cases conditionExpression="[selection->filter(Actor)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Actor']" containerViewExpression="[containerView/]"/>
                    </cases>
                    <cases conditionExpression="[selection->filter(PrimitiveType)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_PrimitiveType']" containerViewExpression="[containerView/]"/>
                    </cases>
                    <cases conditionExpression="[selection->filter(DataType)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_DataType']" containerViewExpression="[containerView/]"/>
                    </cases>
                    <cases conditionExpression="[selection->filter(InstanceSpecification)->size()>0/]">
                      <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::blocks::Dimension)->size() > 0/]">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Dimension']" containerViewExpression="[containerView/]"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::blocks::Unit)->size() > 0/]">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Unit']" containerViewExpression="[containerView/]"/>
                      </subModelOperations>
                    </cases>
                    <cases conditionExpression="[selection->filter(Package)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_NestedPackage']" containerViewExpression="[containerView/]"/>
                      <subModelOperations xsi:type="tool:For" expression="[element.eContents()/]" iteratorName="packagedElement">
                        <subModelOperations xsi:type="tool:If" conditionExpression="[packagedElement->filter(Enumeration)->size()>0/]">
                          <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Enumeration']" containerViewExpression="&lt;%$selection.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;BDD_NestedPackage&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $diagram]%>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="[packagedElement->filter(Class)->size()>0/]">
                          <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block']" containerViewExpression="&lt;%$selection.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;BDD_NestedPackage&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $diagram]%>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="[packagedElement->filter(Interface)->size()>0/]">
                          <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Interface']" containerViewExpression="&lt;%$selection.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;BDD_NestedPackage&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $diagram]%>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="[packagedElement->filter(Actor)->size()>0/]">
                          <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Actor']" containerViewExpression="&lt;%$selection.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;BDD_NestedPackage&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $diagram]%>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="[packagedElement->filter(PrimitiveType)->size()>0/]">
                          <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_PrimitiveType']" containerViewExpression="&lt;%$selection.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;BDD_NestedPackage&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $diagram]%>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="[packagedElement->filter(DataType)->size()>0/]">
                          <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_DataType']" containerViewExpression="&lt;%$selection.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;BDD_NestedPackage&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $diagram]%>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="[packagedElement->filter(InstanceSpecification)->size()>0/]">
                          <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::blocks::Dimension)->size() > 0/]">
                            <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Dimension']" containerViewExpression="&lt;%$selection.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;BDD_NestedPackage&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $diagram]%>"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::blocks::Unit)->size() > 0/]">
                            <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Unit']" containerViewExpression="&lt;%$selection.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;BDD_NestedPackage&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $diagram]%>"/>
                          </subModelOperations>
                        </subModelOperations>
                      </subModelOperations>
                    </cases>
                    <default/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerDropDescription" name="BDD_Drop" precondition="&lt;%filter(&quot;Package&quot;)+filter(&quot;Class&quot;)[eClass.name==&quot;Class&quot;]+filter(&quot;Interface&quot;)+filter(&quot;DataType&quot;)+filter(&quot;Actor&quot;)+filter(&quot;InstanceSpecification&quot;)%>" forceRefresh="true" mappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Actor'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_DataType'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Dimension'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Enumeration'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Interface'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_NestedPackage'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_PrimitiveType'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Unit']" dragSource="PROJECT_EXPLORER">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                <subModelOperations xsi:type="tool:For" expression="&lt;%$element%>" iteratorName="selection">
                  <subModelOperations xsi:type="tool:Switch">
                    <cases conditionExpression="[selection->filter(Class)->size()>0/]">
                      <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::blocks::Block)->size() > 0/]">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block']" containerViewExpression="[newContainerView/]"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::constraints::ConstraintBlock)->size() > 0/]">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@optionalLayers[name='BDD%20Parametric%20Layer']/@containerMappings[name='BDD_ConstraintBlock']" containerViewExpression="[newContainerView/]"/>
                      </subModelOperations>
                    </cases>
                    <cases conditionExpression="[selection->filter(Interface)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Interface']" containerViewExpression="[newContainerView/]"/>
                    </cases>
                    <cases conditionExpression="[selection->filter(Enumeration)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Enumeration']" containerViewExpression="[newContainerView/]"/>
                    </cases>
                    <cases conditionExpression="[selection->filter(Actor)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Actor']" containerViewExpression="[newContainerView/]"/>
                    </cases>
                    <cases conditionExpression="[selection->filter(PrimitiveType)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_PrimitiveType']" containerViewExpression="[newContainerView/]"/>
                    </cases>
                    <cases conditionExpression="[selection->filter(DataType)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_DataType']" containerViewExpression="[newContainerView/]"/>
                    </cases>
                    <cases conditionExpression="[selection->filter(InstanceSpecification)->size()>0/]">
                      <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::blocks::Dimension)->size() > 0/]">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Dimension']" containerViewExpression="[newContainerView/]"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::blocks::Unit)->size() > 0/]">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Unit']" containerViewExpression="[newContainerView/]"/>
                      </subModelOperations>
                    </cases>
                    <cases conditionExpression="[selection->filter(Package)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_NestedPackage']" containerViewExpression="[newContainerView/]"/>
                      <subModelOperations xsi:type="tool:For" expression="[element.eContents()/]" iteratorName="packagedElement">
                        <subModelOperations xsi:type="tool:If" conditionExpression="[packagedElement->filter(Enumeration)->size()>0/]">
                          <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Enumeration']" containerViewExpression="&lt;%$selection.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;BDD_NestedPackage&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $newContainerView]%>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="[packagedElement->filter(Class)->size()>0/]">
                          <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block']" containerViewExpression="&lt;%$selection.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;BDD_NestedPackage&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $newContainerView]%>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="[packagedElement->filter(Interface)->size()>0/]">
                          <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Interface']" containerViewExpression="&lt;%$selection.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;BDD_NestedPackage&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $newContainerView]%>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="[packagedElement->filter(Actor)->size()>0/]">
                          <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Actor']" containerViewExpression="&lt;%$selection.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;BDD_NestedPackage&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $newContainerView]%>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="[packagedElement->filter(PrimitiveType)->size()>0/]">
                          <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_PrimitiveType']" containerViewExpression="&lt;%$selection.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;BDD_NestedPackage&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $newContainerView]%>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="[packagedElement->filter(DataType)->size()>0/]">
                          <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_DataType']" containerViewExpression="&lt;%$selection.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;BDD_NestedPackage&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $newContainerView]%>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="[packagedElement->filter(InstanceSpecification)->size()>0/]">
                          <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::blocks::Dimension)->size() > 0/]">
                            <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Dimension']" containerViewExpression="&lt;%$selection.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;BDD_NestedPackage&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $newContainerView]%>"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::blocks::Unit)->size() > 0/]">
                            <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Unit']" containerViewExpression="&lt;%$selection.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;BDD_NestedPackage&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $newContainerView]%>"/>
                          </subModelOperations>
                        </subModelOperations>
                      </subModelOperations>
                    </cases>
                    <default/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:OperationAction" name="BDD_AddRelatedElements" label="Add Related Elements" forceRefresh="true" icon="/org.eclipse.search/icons/full/etool16/search.gif">
            <view name="views"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[views.target/]">
                <subModelOperations xsi:type="tool:For" expression="[getRelated()/]">
                  <subModelOperations xsi:type="tool:Switch">
                    <cases conditionExpression="[i->filter(Class)->size()>0/]">
                      <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::blocks::Block)->size() > 0/]">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block']" containerViewExpression="[diagram/]"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::constraints::ConstraintBlock)->size() > 0/]">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@optionalLayers[name='BDD%20Parametric%20Layer']/@containerMappings[name='BDD_ConstraintBlock']" containerViewExpression="[diagram/]"/>
                      </subModelOperations>
                    </cases>
                    <cases conditionExpression="[i->filter(Interface)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Interface']" containerViewExpression="[diagram/]"/>
                    </cases>
                    <cases conditionExpression="[i->filter(Enumeration)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Enumeration']" containerViewExpression="[diagram/]"/>
                    </cases>
                    <cases conditionExpression="[i->filter(Actor)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Actor']" containerViewExpression="[diagram/]"/>
                    </cases>
                    <cases conditionExpression="[i->filter(PrimitiveType)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_PrimitiveType']" containerViewExpression="[diagram/]"/>
                    </cases>
                    <cases conditionExpression="[i->filter(DataType)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_DataType']" containerViewExpression="[diagram/]"/>
                    </cases>
                    <cases conditionExpression="[i->filter(InstanceSpecification)->size()>0/]">
                      <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::blocks::Dimension)->size() > 0/]">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Dimension']" containerViewExpression="[diagram/]"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::blocks::Unit)->size() > 0/]">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Unit']" containerViewExpression="[diagram/]"/>
                      </subModelOperations>
                    </cases>
                    <default/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <reusedTools xsi:type="tool:ToolDescription" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@toolSections.0/@ownedTools[name='CD_RemoveExistingElements']"/>
        </toolSections>
        <toolSections name="Types" label="Types">
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="Create Block" label="Block" containerMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Package)/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Class" referenceName="packagedElement" variableName="valuetype">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="newBlock"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Blocks', 'Block')/]"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Class)/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Class" referenceName="nestedClassifier" variableName="valuetype">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="newBlock"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Blocks', 'Block')/]"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolGroup" name="Group DataType" label="Data Types">
            <tools xsi:type="tool:ContainerCreationDescription" name="Create ValueType (DataType)" label="ValueType (DataType)" containerMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_DataType']">
              <variable name="container"/>
              <viewVariable name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                  <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Package)/]">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.DataType" referenceName="packagedElement" variableName="valuetype">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="newDataType"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Blocks', 'ValueType')/]"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Class)/]">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.DataType" referenceName="nestedClassifier" variableName="valuetype">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="newDataType"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Blocks', 'ValueType')/]"/>
                    </subModelOperations>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
            <tools xsi:type="tool:ContainerCreationDescription" name="Create ValueType (Primitive Type)" label="ValueType (Primitive Type)" containerMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_PrimitiveType']">
              <variable name="container"/>
              <viewVariable name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                  <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Package)/]">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.PrimitiveType" referenceName="packagedElement" variableName="valuetype">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="newValueType">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Blocks', 'ValueType')/]"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Class)/]">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.PrimitiveType" referenceName="nestedClassifier" variableName="valuetype">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="newValueType">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Blocks', 'ValueType')/]"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
            <tools xsi:type="tool:ContainerCreationDescription" name="Enumeration" forceRefresh="true" containerMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Enumeration']">
              <variable name="container"/>
              <viewVariable name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                  <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Package)/]">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Enumeration" referenceName="packagedElement">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['Enumeration' + eContainer().eContents()->filter(uml::Class)->size()/]"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Class)/]">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Enumeration" referenceName="nestedClassifier">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['Enumeration' + eContainer().eContents()->filter(uml::Class)->size()/]"/>
                    </subModelOperations>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
            <tools xsi:type="tool:ContainerCreationDescription" name="PrimitiveType" forceRefresh="true" containerMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_PrimitiveType']">
              <variable name="container"/>
              <viewVariable name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                  <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Package)/]">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.PrimitiveType" referenceName="packagedElement">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['PrimitiveType' + eContainer().eContents()->filter(uml::Class)->size()/]"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Class)/]">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.PrimitiveType" referenceName="nestedClassifier">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['PrimitiveType' + eContainer().eContents()->filter(uml::Class)->size()/]"/>
                    </subModelOperations>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
            <tools xsi:type="tool:ContainerCreationDescription" name="DataType" forceRefresh="true" containerMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_DataType']">
              <variable name="container"/>
              <viewVariable name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                  <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Package)/]">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.DataType" referenceName="packagedElement">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['DataType' + eContainer().eContents()->filter(uml::Class)->size()/]"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Class)/]">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.DataType" referenceName="nestedClassifier">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['DataType' + eContainer().eContents()->filter(uml::Class)->size()/]"/>
                    </subModelOperations>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolGroup" name="Dimension">
            <tools xsi:type="tool:NodeCreationDescription" name="Create Dimension" label="Dimension" precondition="[oclIsKindOf(uml::Package)/]" nodeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Dimension']" iconPath="/org.eclipse.papyrus.sysml/icons/blocks/Dimension.gif">
              <variable name="container"/>
              <viewVariable name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.InstanceSpecification" referenceName="packagedElement" variableName="dim">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['newDimension' + eContainer(uml::Package).packagedElement->size()/]"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Blocks', 'Dimension')/]"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
            <tools xsi:type="tool:NodeCreationDescription" name="Create Unit" label="Unit" precondition="[oclIsKindOf(uml::Package)/]" nodeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@nodeMappings[name='BDD_Unit']" iconPath="/org.eclipse.papyrus.sysml/icons/blocks/Unit.gif">
              <variable name="container"/>
              <viewVariable name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.InstanceSpecification" referenceName="packagedElement" variableName="uni">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['newUnit' + eContainer(uml::Package).packagedElement->size()/]">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Blocks', 'Unit')/]"/>
                    </subModelOperations>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerCreationDescription" documentation="Create a new Interface" name="Interface" containerMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Interface']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Package)/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Interface" referenceName="packagedElement">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['Interface' + eContainer().eContents()->filter(uml::Interface)->size()/]"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Class)/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Interface" referenceName="nestedClassifier">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['Interface' + eContainer().eContents()->filter(uml::Interface)->size()/]"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerCreationDescription" documentation="Create a new Interface" name="Package" containerMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_NestedPackage']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Package)/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Package" referenceName="packagedElement">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['Package' + eContainer().eContents()->filter(uml::Package)->size()/]"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <reusedTools xsi:type="tool:PopupMenu" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Reused%20Description']/@toolSection/@ownedTools[name='Import%20primitive%20types']"/>
        </toolSections>
        <toolSections name="Features">
          <ownedTools xsi:type="tool:NodeCreationDescription" name="BDD_Create_Function" label="Function" nodeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block']/@subNodeMappings[name='BDD_Function']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:CreateInstance" typeName="uml.Activity" referenceName="ownedBehavior">
                <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['newFunction' + eContainer().eContents()->filter(uml::Activity)->size()/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolGroup" name="BDD_Group_Properties" label="Properties">
            <tools xsi:type="tool:NodeCreationDescription" name="BDD_Create_Property" label="Property" nodeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block']/@subNodeMappings[name='BDD_Property']">
              <variable name="container"/>
              <viewVariable name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedAttribute">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['property' + eContainer().eContents()->filter(uml::Property)->size()/]"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[getUmlStringType()/]"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="1"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
            <tools xsi:type="tool:SelectionWizardDescription" name="BDD_Create_TypedProperty" label="Typed Property" forceRefresh="true" candidatesExpression="[getRootContainer().eAllContents(uml::Type)/]" message="Please select a type for the new property" iconPath="/org.eclipse.uml2.uml.edit/icons/full/obj16/Property.gif" windowTitle="New property type selection">
              <element name="element"/>
              <containerView name="containerView"/>
              <container name="container"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedAttribute">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['property' + eContainer().eContents()->filter(uml::Property)->size()/]"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[element/]">
                      <subModelOperations xsi:type="tool:If" conditionExpression="[element.getStereotypeApplications()->filter(sysml::constraints::ConstraintBlock)->size() > 0/]">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Constraints', 'ConstraintProperty')/]"/>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="1"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
            <tools xsi:type="tool:SelectionWizardDescription" name="BDD_Set_Dimension" label="Dimension" precondition="&lt;%$container.getStereotypeApplications().filter(&quot;ValueType&quot;)%>" forceRefresh="true" candidatesExpression="&lt;%getRootContainer().eAllContents(&quot;InstanceSpecification&quot;)[getStereotypeApplications().filter(&quot;Dimension&quot;)]%>" message="Please select a dimension" iconPath="/org.eclipse.papyrus.sysml/icons/blocks/Dimension.gif" windowTitle="Select a Dimension">
              <element name="element"/>
              <containerView name="containerView"/>
              <container name="container"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container.setDimension($element)%>"/>
              </initialOperation>
            </tools>
            <tools xsi:type="tool:SelectionWizardDescription" name="BDD_Set_Unit" label="Unit" precondition="&lt;%$container.getStereotypeApplications().filter(&quot;ValueType&quot;)%>" forceRefresh="true" candidatesExpression="&lt;%getRootContainer().eAllContents(&quot;InstanceSpecification&quot;)[getStereotypeApplications().filter(&quot;Unit&quot;)]%>" message="Please select a unit" iconPath="/org.eclipse.papyrus.sysml/icons/blocks/Unit.gif" windowTitle="Select a Dimension">
              <element name="element"/>
              <containerView name="containerView"/>
              <container name="container"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container.setUnit($element)%>"/>
              </initialOperation>
            </tools>
          </ownedTools>
          <reusedTools xsi:type="tool:NodeCreationDescription" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@toolSections.2/@ownedTools[name='Literal']"/>
        </toolSections>
        <toolSections name="Relationships" label="Relationships">
          <ownedTools xsi:type="tool:ToolGroup" name="Associations">
            <tools xsi:type="tool:EdgeCreationDescription" documentation="Create a new Association" name="Association" edgeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@edgeMappings[name='BDD_Association']">
              <sourceVariable name="source"/>
              <targetVariable name="target"/>
              <sourceViewVariable name="sourceView"/>
              <targetViewVariable name="targetView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[source/]">
                  <subModelOperations xsi:type="tool:Switch">
                    <cases conditionExpression="[source = sourceView.eContainer(viewpoint::DDiagram).oclAsType(viewpoint::DSemanticDecorator).target/]">
                      <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Class)/]">
                        <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Association" referenceName="nestedClassifier">
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[source.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[source/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[target.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[target/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:SetValue" featureName="navigableOwnedEnd" valueExpression="[memberEnd->at(1)->asSet()->including(memberEnd->at(2))/]"/>
                          <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[ownedEnd->at(1).name + 'To' + ownedEnd->at(2).name.toUpperFirst()/]"/>
                        </subModelOperations>
                      </subModelOperations>
                    </cases>
                    <default>
                      <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Package)/]">
                        <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Association" referenceName="packagedElement">
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[source.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[source/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[target.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[target/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:SetValue" featureName="navigableOwnedEnd" valueExpression="[memberEnd->at(1)->asSet()->including(memberEnd->at(2))/]"/>
                          <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[ownedEnd->at(1).name + 'To' + ownedEnd->at(2).name.toUpperFirst()/]"/>
                        </subModelOperations>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Class)/]">
                        <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Association" referenceName="nestedClassifier">
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[source.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[source/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[target.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[target/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:SetValue" featureName="navigableOwnedEnd" valueExpression="[memberEnd->at(1)->asSet()->including(memberEnd->at(2))/]"/>
                          <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[ownedEnd->at(1).name + 'To' + ownedEnd->at(2).name.toUpperFirst()/]"/>
                        </subModelOperations>
                      </subModelOperations>
                    </default>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
            <tools xsi:type="tool:EdgeCreationDescription" documentation="Create a new Association" name="Composition" edgeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@edgeMappings[name='BDD_Association']" iconPath="/org.eclipse.uml2.uml.edit/icons/full/obj16/Association_composite.gif">
              <sourceVariable name="source"/>
              <targetVariable name="target"/>
              <sourceViewVariable name="sourceView"/>
              <targetViewVariable name="targetView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[source/]">
                  <subModelOperations xsi:type="tool:Switch">
                    <cases conditionExpression="[source = sourceView.eContainer(viewpoint::DDiagram).oclAsType(viewpoint::DSemanticDecorator).target/]">
                      <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Class)/]">
                        <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Association" referenceName="nestedClassifier">
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[source.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[source/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[target.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[target/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="aggregation" valueExpression="composite"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:SetValue" featureName="navigableOwnedEnd" valueExpression="[memberEnd->at(1)->asSet()->including(memberEnd->at(2))/]"/>
                          <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[ownedEnd->at(1).name + 'To' + ownedEnd->at(2).name.toUpperFirst()/]"/>
                        </subModelOperations>
                      </subModelOperations>
                    </cases>
                    <default>
                      <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Package)/]">
                        <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Association" referenceName="packagedElement">
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[source.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[source/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[target.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[target/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="aggregation" valueExpression="composite"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:SetValue" featureName="navigableOwnedEnd" valueExpression="[memberEnd->at(1)->asSet()->including(memberEnd->at(2))/]"/>
                          <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[ownedEnd->at(1).name + 'To' + ownedEnd->at(2).name.toUpperFirst()/]"/>
                        </subModelOperations>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Class)/]">
                        <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Association" referenceName="nestedClassifier">
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[source.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[source/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[target.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[target/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="aggregation" valueExpression="composite"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:SetValue" featureName="navigableOwnedEnd" valueExpression="[memberEnd->at(1)->asSet()->including(memberEnd->at(2))/]"/>
                          <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[ownedEnd->at(1).name + 'To' + ownedEnd->at(2).name.toUpperFirst()/]"/>
                        </subModelOperations>
                      </subModelOperations>
                    </default>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
            <tools xsi:type="tool:EdgeCreationDescription" documentation="Create a new Association" name="Aggregation" edgeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@edgeMappings[name='BDD_Association']" iconPath="/org.eclipse.uml2.uml.edit/icons/full/obj16/Association_shared.gif">
              <sourceVariable name="source"/>
              <targetVariable name="target"/>
              <sourceViewVariable name="sourceView"/>
              <targetViewVariable name="targetView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[source/]">
                  <subModelOperations xsi:type="tool:Switch">
                    <cases conditionExpression="[source = sourceView.eContainer(viewpoint::DDiagram).oclAsType(viewpoint::DSemanticDecorator).target/]">
                      <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Class)/]">
                        <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Association" referenceName="nestedClassifier">
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[source.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[source/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[target.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[target/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="aggregation" valueExpression="shared"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:SetValue" featureName="navigableOwnedEnd" valueExpression="[memberEnd->at(1)->asSet()->including(memberEnd->at(2))/]"/>
                          <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[ownedEnd->at(1).name + 'To' + ownedEnd->at(2).name.toUpperFirst()/]"/>
                        </subModelOperations>
                      </subModelOperations>
                    </cases>
                    <default>
                      <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Package)/]">
                        <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Association" referenceName="packagedElement">
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[source.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[source/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[target.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[target/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="aggregation" valueExpression="shared"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:SetValue" featureName="navigableOwnedEnd" valueExpression="&lt;%memberEnd->at(1) + memberEnd->at(2)%>"/>
                          <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%ownedEnd->at(1).name%>To&lt;%ownedEnd->at(2).name.toU1Case()%>"/>
                        </subModelOperations>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Class)/]">
                        <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Association" referenceName="nestedClassifier">
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[source.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[source/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[target.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[target/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="aggregation" valueExpression="shared"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:SetValue" featureName="navigableOwnedEnd" valueExpression="[memberEnd->at(1)->asSet()->including(memberEnd->at(2))/]"/>
                          <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[ownedEnd->at(1).name + 'To' + ownedEnd->at(2).name.toUpperFirst()/]"/>
                        </subModelOperations>
                      </subModelOperations>
                    </default>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
            <tools xsi:type="tool:SelectionWizardDescription" name="Link a Block to an Actor" precondition="&lt;%getStereotypeApplications().filter(&quot;Block&quot;).nSize() >0%>" candidatesExpression="&lt;%getRootContainer()+getRootContainer().eAllContents(&quot;Package&quot;)+getRootContainer().eAllContents(&quot;Actor&quot;)%>" tree="true" rootExpression="&lt;%getRootContainer()%>" childrenExpression="[eContents()/]" message="Select an actor" iconPath="/org.eclipse.uml2.uml.edit/icons/full/obj16/Actor.gif">
              <element name="element"/>
              <containerView name="containerView"/>
              <container name="container"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                  <subModelOperations xsi:type="tool:Switch">
                    <cases conditionExpression="[source = sourceView.eContainer(viewpoint::DDiagram).oclAsType(viewpoint::DSemanticDecorator).target/]">
                      <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Class)/]">
                        <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Association" referenceName="nestedClassifier">
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[container.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[container/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[element.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[element/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:SetValue" featureName="navigableOwnedEnd" valueExpression="[memberEnd->at(1)->asSet()->including(memberEnd->at(2))/]"/>
                          <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[ownedEnd->at(1).name + 'To' + ownedEnd->at(2).name.toUpperFirst()/]"/>
                        </subModelOperations>
                      </subModelOperations>
                    </cases>
                    <default>
                      <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Package)/]">
                        <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Association" referenceName="packagedElement">
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[container.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[container/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[element.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[element/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:SetValue" featureName="navigableOwnedEnd" valueExpression="[memberEnd->at(1)->asSet()->including(memberEnd->at(2))/]"/>
                          <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[ownedEnd->at(1).name + 'To' + ownedEnd->at(2).name.toUpperFirst()/]"/>
                        </subModelOperations>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Class)/]">
                        <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Association" referenceName="nestedClassifier">
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[container.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[container/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedEnd">
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[element.name.toLowerFirst() + 's'/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[element/]"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="lower" valueExpression="0"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="upper" valueExpression="-1"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:SetValue" featureName="navigableOwnedEnd" valueExpression="[memberEnd->at(1)->asSet()->including(memberEnd->at(2))/]"/>
                          <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[ownedEnd->at(1).name + 'To' + ownedEnd->at(2).name.toUpperFirst()/]"/>
                        </subModelOperations>
                      </subModelOperations>
                    </default>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
          </ownedTools>
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="Generalization" edgeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@edgeMappings[name='BDD_Generalization']" iconPath="/org.eclipse.uml2.uml.edit/icons/full/obj16/Generalization.gif">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[source/]">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Generalization" referenceName="generalization">
                  <subModelOperations xsi:type="tool:SetValue" featureName="general" valueExpression="[target/]"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolGroup" name="Dependencies">
            <tools xsi:type="tool:EdgeCreationDescription" documentation="Create a new Interface Realization" name="Interface Realization" edgeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@edgeMappings[name='BDD_InterfaceRealization']" iconPath="/org.eclipse.uml2.uml.edit/icons/full/obj16/InterfaceRealization.gif">
              <sourceVariable name="source"/>
              <targetVariable name="target"/>
              <sourceViewVariable name="sourceView"/>
              <targetViewVariable name="targetView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[source/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.InterfaceRealization" referenceName="interfaceRealization">
                    <subModelOperations xsi:type="tool:SetValue" featureName="contract" valueExpression="[target/]"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
            <tools xsi:type="tool:EdgeCreationDescription" documentation="Create a new Dependency" name="Dependency" edgeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@edgeMappings[name='BDD_Dependency']">
              <sourceVariable name="source"/>
              <targetVariable name="target"/>
              <sourceViewVariable name="sourceView"/>
              <targetViewVariable name="targetView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[source.eContainer(Package)/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Dependency" referenceName="packagedElement">
                    <subModelOperations xsi:type="tool:SetValue" featureName="client" valueExpression="[source/]"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="supplier" valueExpression="[target/]"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
            <tools xsi:type="tool:EdgeCreationDescription" documentation="Create a new Interface Realization" name="Usage" edgeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@edgeMappings[name='BDD_Dependency']" iconPath="/org.eclipse.uml2.uml.edit/icons/full/obj16/Usage.gif">
              <sourceVariable name="source"/>
              <targetVariable name="target"/>
              <sourceViewVariable name="sourceView"/>
              <targetViewVariable name="targetView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[source.eContainer(Package)/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Usage" referenceName="packagedElement">
                    <subModelOperations xsi:type="tool:SetValue" featureName="client" valueExpression="[source/]"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="supplier" valueExpression="[target/]"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
          </ownedTools>
          <reusedTools xsi:type="tool:ReconnectEdgeDescription" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@toolSections.2/@ownedTools[name='Reconnect']"/>
        </toolSections>
        <toolSections name="BDD Edit Section">
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Dimension Name" forceRefresh="true">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[editUmlLabel(arg0)/]"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Unit Name" forceRefresh="true">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[editUmlLabel(arg0)/]"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Block Name and Type">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[editUmlLabel(arg0)/]"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Function Name" forceRefresh="true">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[editUmlLabel(arg0)/]"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Property Name and Type" forceRefresh="true">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[self/]">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[editUmlLabel(arg0)/]"/>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[updateStereotype()/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DoubleClickDescription" name="BDD Select Dimension for PTVT" forceRefresh="true" mappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_PrimitiveType']/@subNodeMappings[name='BDD_PTVTDimension']">
            <element name="element">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="selectedType" candidatesExpression="[eContainer(uml::Package).eAllContents(uml::InstanceSpecification)->select(not(getStereotypeApplications()->filter(sysml::blocks::Dimension)->isEmpty()))/]" message="Select Dimension"/>
            </element>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[elementView.eContainer(viewpoint::DSemanticDecorator).target.oclAsType(uml::Element).setDimensionForPrimitiveType(selectedType)/]"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DoubleClickDescription" name="BDD Select Unit for PTVT" forceRefresh="true" mappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_PrimitiveType']/@subNodeMappings[name='BDD_PTVTUnit']">
            <element name="element">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="selectedType" candidatesExpression="[eContainer(uml::Package).eAllContents(uml::InstanceSpecification)->select(not(getStereotypeApplications()->filter(sysml::blocks::Unit)->isEmpty()))/]" message="Select Unit"/>
            </element>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[elementView.eContainer(viewpoint::DSemanticDecorator).target.oclAsType(uml::Element).setUnitForPrimitiveType(selectedType)/]"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DoubleClickDescription" name="BDD Select Type for Block Property" forceRefresh="true" mappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block']/@subNodeMappings[name='BDD_Property'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@optionalLayers[name='BDD%20Parametric%20Layer']/@containerMappings[name='BDD_ConstraintBlock']/@subNodeMappings[name='BDD_Constraint_Parameter']">
            <element name="element">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="selectedType" candidatesExpression="[getRootContainer().eAllContents(uml::Type)/]" message="Please select a type for the existing property"/>
            </element>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[selectedType/]">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[updateStereotype()/]"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DoubleClickDescription" name="BDD Select Type for DataType Property" forceRefresh="true">
            <mappings xsi:type="description:NodeMapping" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@containerMappings[name='CD_ReusedMappingForFeatures']/@subNodeMappings[name='CD_Property']"/>
            <element name="element">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="selectedType" candidatesExpression="[getRootContainer().eAllContents(uml::Type)/]" message="Please select a type for the existing property"/>
            </element>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[selectedType/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="BDD Delete Section">
          <subSections name="BDD Delete Objects">
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Dimension">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element.oclAsType(uml::Element).deleteAssociatedStereotype('SysML::Blocks::Dimension')/]">
                  <subModelOperations xsi:type="tool:RemoveElement"/>
                </firstModelOperations>
              </initialOperation>
            </ownedTools>
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Unit" label="Delete Unit">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element.oclAsType(uml::Element).deleteAssociatedStereotype('SysML::Blocks::Unit')/]">
                  <subModelOperations xsi:type="tool:RemoveElement"/>
                </firstModelOperations>
              </initialOperation>
            </ownedTools>
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Function">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                  <subModelOperations xsi:type="tool:RemoveElement"/>
                </firstModelOperations>
              </initialOperation>
            </ownedTools>
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Block">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element.oclAsType(uml::Element).deleteAssociatedStereotype('SysML::Blocks::Block')/]">
                  <subModelOperations xsi:type="tool:RemoveElement"/>
                </firstModelOperations>
              </initialOperation>
            </ownedTools>
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Enumeration">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                  <subModelOperations xsi:type="tool:For" expression="[eAllContents()/]">
                    <subModelOperations xsi:type="tool:RemoveElement"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:RemoveElement"/>
                </firstModelOperations>
              </initialOperation>
            </ownedTools>
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete PTVTUnit">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[containerView.oclAsType(viewpoint::DSemanticDecorator).target.oclAsType(uml::Element).getStereotypeApplications()->filter(sysml::blocks::ValueType)->select(not(base_DataType->filter(uml::PrimitiveType)->isEmpty()))/]">
                  <subModelOperations xsi:type="tool:Unset" featureName="unit"/>
                </firstModelOperations>
              </initialOperation>
            </ownedTools>
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete PTVTDimension">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[containerView.oclAsType(viewpoint::DSemanticDecorator).target.oclAsType(uml::Element).getStereotypeApplications()->filter(sysml::blocks::ValueType)->select(not(base_DataType->filter(uml::PrimitiveType)->isEmpty()))/]">
                  <subModelOperations xsi:type="tool:Unset" featureName="dimension"/>
                </firstModelOperations>
              </initialOperation>
            </ownedTools>
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete PrimitiveTypeValueType">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element.deleteAssociatedStereotype('SysML::Blocks::ValueType')/]">
                  <subModelOperations xsi:type="tool:RemoveElement"/>
                </firstModelOperations>
              </initialOperation>
            </ownedTools>
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete DataTypeValueType">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element.deleteAssociatedStereotype('SysML::Blocks::ValueType')/]">
                  <subModelOperations xsi:type="tool:RemoveElement"/>
                </firstModelOperations>
              </initialOperation>
            </ownedTools>
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Requirement" precondition="[false/]">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext"/>
              </initialOperation>
            </ownedTools>
          </subSections>
          <subSections name="BDD Delete Edges">
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Generalization">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                  <subModelOperations xsi:type="tool:RemoveElement"/>
                </firstModelOperations>
              </initialOperation>
            </ownedTools>
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Association">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                  <subModelOperations xsi:type="tool:RemoveElement"/>
                </firstModelOperations>
              </initialOperation>
            </ownedTools>
          </subSections>
        </toolSections>
        <toolSections name="BDD Navigate Section">
          <ownedTools xsi:type="tool:DoubleClickDescription" name="BDD_DoubleClickToIBD" mappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block']">
            <element name="element"/>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:Navigation" createIfNotExistent="true" diagramDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DiagramNavigationDescription" name="Internal Block Diagram navigation" diagramDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']">
            <containerViewVariable name="containerView"/>
            <containerVariable name="container"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
          <ownedTools xsi:type="tool:DiagramCreationDescription" name="Internal Block Diagram creation" label="Internal Block Diagram creation" titleExpression="['ibd [block] ' + self.name + ' [' + self.name + ' diagram]'/]" diagramDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']">
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[self/]"/>
            </initialOperation>
            <containerViewVariable name="containerView"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
          <ownedTools xsi:type="tool:DiagramCreationDescription" name="Block Definition Diagram creation" label="Block Definition Diagram creation" titleExpression="['bdd ' + if self.oclIsKindOf(uml::Package) then '[package] ' else '[block]  ' endif + self.name + ' [' + self.name + ' diagram]'/]" diagramDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']">
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[self/]"/>
            </initialOperation>
            <containerViewVariable name="containerView"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
          <ownedTools xsi:type="tool:DoubleClickDescription" name="BDD_DoubleClickToBBD" mappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_NestedPackage']">
            <element name="element"/>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:Navigation" createIfNotExistent="true" diagramDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DiagramCreationDescription" name="Function description creation">
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[self/]"/>
            </initialOperation>
            <containerViewVariable name="containerView"/>
            <representationNameVariable name="diagramName"/>
            <diagramDescription href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Behavioral%20Modeling']/@ownedRepresentations[name='Activity%20Diagram']"/>
          </ownedTools>
          <ownedTools xsi:type="tool:DiagramNavigationDescription" name="Parametric Diagram navigation" diagramDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']">
            <containerViewVariable name="containerView"/>
            <containerVariable name="container"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
          <ownedTools xsi:type="tool:DiagramCreationDescription" name="Parametric Diagram creation" label="Parametric Diagram creation" titleExpression="['par [block] ' + self.name + ' [' + self.name + ' diagram]'/]" diagramDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']">
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[self/]"/>
            </initialOperation>
            <containerViewVariable name="containerView"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
          <reusedTools xsi:type="tool:DiagramCreationDescription" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@toolSections.1/@subSections[name='navigation']/@ownedTools[name='Activity%20diagram']"/>
          <reusedTools xsi:type="tool:DiagramNavigationDescription" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@toolSections.1/@subSections[name='navigation']/@ownedTools[name='Nav%20to%20Activity%20diag']"/>
        </toolSections>
        <customization>
          <vsmElementCustomizations xsi:type="description:VSMElementCustomizationReuse" appliedOn="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@edgeMappings[name='BDD_Association']/@style">
            <reuse xsi:type="description:EAttributeCustomization" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@customization/@vsmElementCustomizations.0/@featureCustomizations.0"/>
            <reuse xsi:type="description:EAttributeCustomization" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@customization/@vsmElementCustomizations.1/@featureCustomizations.0"/>
            <reuse xsi:type="description:EAttributeCustomization" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@customization/@vsmElementCustomizations.2/@featureCustomizations.0"/>
            <reuse xsi:type="description:EAttributeCustomization" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@customization/@vsmElementCustomizations.3/@featureCustomizations.0"/>
            <reuse xsi:type="description:EAttributeCustomization" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@customization/@vsmElementCustomizations.4/@featureCustomizations.0"/>
            <reuse xsi:type="description:EAttributeCustomization" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@customization/@vsmElementCustomizations.5/@featureCustomizations.0"/>
            <reuse xsi:type="description:EAttributeCustomization" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@customization/@vsmElementCustomizations.6/@featureCustomizations.0"/>
            <reuse xsi:type="description:EAttributeCustomization" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@customization/@vsmElementCustomizations.7/@featureCustomizations.0"/>
            <reuse xsi:type="description:EAttributeCustomization" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@customization/@vsmElementCustomizations.8/@featureCustomizations.0"/>
            <reuse xsi:type="description:EAttributeCustomization" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@customization/@vsmElementCustomizations.9/@featureCustomizations.0"/>
          </vsmElementCustomizations>
        </customization>
      </defaultLayer>
      <optionalLayers name="BDD Requirements Layer" label="Requirements">
        <edgeMappings name="BDD_Satisfy" sourceMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block']" targetMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@optionalLayers[name='BDD%20Requirements%20Layer']/@containerMappings[name='BDD_RequirementsSatisfy']" targetFinderExpression="&lt;%self%>">
          <style lineStyle="dash" sizeComputationExpression="1">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="&lt;&lt;satisfy>>">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <containerMappings name="BDD_RequirementsSatisfy" preconditionExpression="[self.getStereotypeApplications()->filter(sysml::blocks::Block)->size() > 0 or self.getStereotypeApplications()->filter(sysml::constraints::ConstraintBlock)->size() > 0/]" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.5/@subSections[name='BDD%20Delete%20Objects']/@ownedTools[name='Delete%20Requirement']" semanticCandidatesExpression="&lt;%packagedElement.filter(&quot;uml.Class&quot;)[~.filter(&quot;Abstraction&quot;)[getStereotypeApplications().filter(&quot;requirements.Satisfy&quot;)]]%>" semanticElements="[self->union(self.getStereotypeApplications())/]" domainClass="uml.Class" listContainer="true">
          <subNodeMappings name="BDD_Requirement" preconditionExpression="[self.getStereotypeApplications()->filter(sysml::requirements::Requirement)->size() > 0/]" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.5/@subSections[name='BDD%20Delete%20Objects']/@ownedTools[name='Delete%20Requirement']" semanticCandidatesExpression="[eInverse(uml::Abstraction)->select(not(getStereotypeApplications()->filter(sysml::requirements::Satisfy))->isEmpty()).supplier/]" semanticElements="[self->union(self.getStereotypeApplications())/]" domainClass="uml.Class">
            <style xsi:type="style:LozengeNodeDescription" showIcon="false" labelExpression="[getStereotypeApplications()->filter(sysml::requirements::Requirement).id + ' : ' + name/]" labelAlignment="LEFT" tooltipExpression="[getStereotypeApplications()->filter(sysml::requirements::Requirement).id + ' : ' + name/]">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            </style>
          </subNodeMappings>
          <style xsi:type="style:FlatContainerStyleDescription" arcWidth="10" arcHeight="10" labelExpression="Requirements" iconPath="/org.eclipse.papyrus.sysml/icons/requirements/Requirement.gif" tooltipExpression="Requirements" roundedCorner="true">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:UserFixedColor" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@userColorsPalettes[name='UMLPalette']/@entries[name='very%20light%20gray']"/>
            <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
          </style>
        </containerMappings>
      </optionalLayers>
      <optionalLayers name="BDD Parametric Layer" label="Constraints">
        <containerMappings name="BDD_ConstraintBlock" preconditionExpression="[self.getStereotypeApplications()->filter(sysml::constraints::ConstraintBlock)->size() > 0/]" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@optionalLayers[name='BDD%20Parametric%20Layer']/@toolSections.2/@ownedTools[name='BDD_Delete_ConstraintBlock']" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@optionalLayers[name='BDD%20Parametric%20Layer']/@toolSections.1/@ownedTools[name='BDD_Edit_ConstraintBlock']" createElements="false" semanticElements="[self->union(self.getStereotypeApplications())/]" domainClass="uml.Class" listContainer="true">
          <subNodeMappings name="BDD_Constraint_Comment" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@optionalLayers[name='BDD%20Parametric%20Layer']/@toolSections.2/@ownedTools[name='BDD_Delete_Comment']" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@optionalLayers[name='BDD%20Parametric%20Layer']/@toolSections.1/@ownedTools[name='BDD_Edit_Comment']" semanticCandidatesExpression="[ownedComment/]" domainClass="uml.Comment">
            <style xsi:type="style:SquareDescription" labelExpression="['{ ' + _body + ' }'/]" labelAlignment="LEFT" resizeKind="NSEW">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            </style>
          </subNodeMappings>
          <subNodeMappings name="BDD_Constraint_Parameter" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@optionalLayers[name='BDD%20Parametric%20Layer']/@toolSections.2/@ownedTools[name='BDD_Delete_Constraint_Parameter']" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@optionalLayers[name='BDD%20Parametric%20Layer']/@toolSections.1/@ownedTools[name='BDD_Edit_Constraint_Parameter']" semanticCandidatesExpression="[ownedAttribute/]" doubleClickDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='BDD%20Select%20Type%20for%20Block%20Property']" domainClass="uml.Property">
            <style xsi:type="style:SquareDescription" labelExpression="[computeUmlLabel()/]" labelAlignment="LEFT" resizeKind="NSEW">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            </style>
          </subNodeMappings>
          <style xsi:type="style:FlatContainerStyleDescription" labelExpression="[computeUmlLabel()/]" tooltipExpression="[name/]" backgroundStyle="GradientTopToBottom" foregroundColor="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BlueBlock']">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
          </style>
        </containerMappings>
        <toolSections name="BDD_Section_Constraints" label="Constraints">
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="BDD_Create_ConstraintBlock" label="ConstraintBlock" containerMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@optionalLayers[name='BDD%20Parametric%20Layer']/@containerMappings[name='BDD_ConstraintBlock']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Package)/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Class" referenceName="packagedElement" variableName="newConstraintBlock">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="newConstraintBlock"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Constraints', 'ConstraintBlock')/]"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Class)/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Class" referenceName="nestedClassifier" variableName="newConstraintBlock">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="newConstraintBlock"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Constraints', 'ConstraintBlock')/]"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="BDD_Create_Comment" label="Comment" precondition="[container.ownedComment->isEmpty()/]" nodeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@optionalLayers[name='BDD%20Parametric%20Layer']/@containerMappings[name='BDD_ConstraintBlock']/@subNodeMappings[name='BDD_Constraint_Comment']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Comment" referenceName="ownedComment">
                  <subModelOperations xsi:type="tool:SetValue" featureName="body" valueExpression="['add constraint comment here'/]"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="BDD_Section_Edit_Constraints" label="Edit Constraints">
          <ownedTools xsi:type="tool:DirectEditLabel" name="BDD_Edit_ConstraintBlock" label="Edit ConstraintBlock Name">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[editUmlLabel(arg0)/]"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="BDD_Edit_Constraint_Parameter" label="Edit Constraint Parameter Name">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[self/]">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[editUmlLabel(arg0)/]"/>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[updateStereotype()/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="BDD_Edit_Comment" label="Edit Comment">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:SetValue" featureName="body" valueExpression="[arg0/]"/>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="BDD_Section_Delete_Constraints" label="Delete Constraints">
          <ownedTools xsi:type="tool:DeleteElementDescription" name="BDD_Delete_ConstraintBlock" label="Delete ConstraintBlock">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element.oclAsType(uml::Element).deleteAssociatedStereotype('SysML::Constraints::ConstraintBlock')/]">
                <subModelOperations xsi:type="tool:RemoveElement"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DeleteElementDescription" name="BDD_Delete_Constraint_Parameter" label="Delete Constraint Parameter">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:RemoveElement"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DeleteElementDescription" name="BDD_Delete_Comment" label="Delete Comment">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:RemoveElement"/>
            </initialOperation>
          </ownedTools>
        </toolSections>
      </optionalLayers>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description_1:EditionTableDescription" name="Requirement Table" titleExpression="['req [package] ' + self.name + ' [RequirementTable]'/]" domainClass="uml.Package">
      <ownedLineMappings name="RT_Requirements" semanticElements="[self->union(self.getStereotypeApplications()->filter(sysml::requirements::Requirement))/]" domainClass="uml.Class" semanticCandidatesExpression="[packagedElement->select(not(getStereotypeApplications()->filter(sysml::requirements::Requirement)->isEmpty()))/]" headerLabelExpression="&lt;&lt; Requirement >>">
        <ownedSubLines name="RT_SubRequirements" semanticElements="[self->union(self.getStereotypeApplications()->filter(sysml::requirements::Requirement))/]" domainClass="uml.Class" semanticCandidatesExpression="[nestedClassifier->select(not(getStereotypeApplications()->filter(sysml::requirements::Requirement)->isEmpty()))/]" headerLabelExpression="&lt;&lt; Requirement >>">
          <delete name="RT Delete SubRequirement" label="Delete Sub Requirement">
            <variables name="element" documentation="The currently edited element."/>
            <variables name="root" documentation="The semantic element corresponding to the current table."/>
            <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[deleteRequirement()/]"/>
          </delete>
        </ownedSubLines>
        <create name="RT Create SubRequirement" label="Create SubRequirement" forceRefresh="true" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Table']/@ownedLineMappings[name='RT_Requirements']/@ownedSubLines[name='RT_SubRequirements']">
          <variables name="root" documentation="The semantic element of the table."/>
          <variables name="element" documentation="The semantic currently edited element."/>
          <variables name="container" documentation="The semantic element corresponding to the view container."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[element/]">
            <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Class" referenceName="nestedClassifier">
              <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['subreq' + element.nestedClassifier->filter(uml::Class)->select(not(getStereotypeApplications()->filter(sysml::requirements::Requirement)->isEmpty()))->size()/]"/>
              <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Requirements', 'Requirement')/]"/>
            </subModelOperations>
          </firstModelOperation>
        </create>
        <delete name="RT Delete Requirement" label="Delete Requirement">
          <variables name="element" documentation="The currently edited element."/>
          <variables name="root" documentation="The semantic element corresponding to the current table."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[deleteRequirement()/]"/>
        </delete>
      </ownedLineMappings>
      <ownedCreateLine name="RT Create Requirement" label="Create Requirement" forceRefresh="true" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Table']/@ownedLineMappings[name='RT_Requirements']">
        <variables name="root" documentation="The semantic element of the table."/>
        <variables name="element" documentation="The semantic currently edited element."/>
        <variables name="container" documentation="The semantic element corresponding to the view container."/>
        <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[container/]">
          <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Class" referenceName="packagedElement">
            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['req' + container.packagedElement->filter(uml::Class)->select(not(getStereotypeApplications()->filter(sysml::requirements::Requirement)->isEmpty()))->size()/]"/>
            <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Requirements', 'Requirement')/]"/>
          </subModelOperations>
        </firstModelOperation>
      </ownedCreateLine>
      <ownedColumnMappings name="RT_Name" label="Name" headerLabelExpression="Name" canEdit="[true/]" featureName="name">
        <directEdit>
          <variables name="element" documentation="The currently edited element."/>
          <variables name="lineSemantic" documentation="The semantic element corresponding to the line."/>
          <variables name="root" documentation="The semantic element of the table."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[lineSemantic/]">
            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="[arg0/]"/>
          </firstModelOperation>
          <mask mask="{0}"/>
        </directEdit>
      </ownedColumnMappings>
      <ownedColumnMappings name="RT_Id" label="ID" headerLabelExpression="ID" featureName="id" labelExpression="[id/]" featureParentExpression="[getStereotypeApplications()->filter(sysml::requirements::Requirement)->asSequence()->first()/]">
        <directEdit>
          <variables name="element" documentation="The currently edited element."/>
          <variables name="lineSemantic" documentation="The semantic element corresponding to the line."/>
          <variables name="root" documentation="The semantic element of the table."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[lineSemantic.setIdForRequirement(arg0)/]"/>
          <mask mask="{0}"/>
        </directEdit>
      </ownedColumnMappings>
      <ownedColumnMappings name="RT_Text" label="Text" headerLabelExpression="Text" featureName="text" labelExpression="[text/]" featureParentExpression="[getStereotypeApplications()->filter(sysml::requirements::Requirement)->asSequence()->first()/]">
        <directEdit>
          <variables name="element" documentation="The currently edited element."/>
          <variables name="lineSemantic" documentation="The semantic element corresponding to the line."/>
          <variables name="root" documentation="The semantic element of the table."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[lineSemantic.setTextForRequirement(arg0)/]"/>
          <mask mask="{0}"/>
        </directEdit>
      </ownedColumnMappings>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description:DiagramDescription" dropDescriptions="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.0/@ownedTools[name='IBD_Drop']" name="Internal Block Diagram" titleExpression="['ibd [block] ' + self.name + ' [' + self.name + ' diagram]'/]" domainClass="uml.Class" preconditionExpression="[getStereotypeApplications()->filter(sysml::blocks::Block)->size() > 0/]" enablePopupBars="true">
      <defaultLayer name="IBDLayer">
        <edgeMappings name="IBD_PortConnector" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.3/@subSections[name='IBD%20Delete%20Edges']/@ownedTools[name='Delete%20Connector']" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='Edit%20Connector%20Name']" semanticCandidatesExpression="[ownedConnector/]" semanticElements="[self/]" sourceMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@borderedNodeMappings[name='IBD_FlowPort'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@borderedNodeMappings[name='IBD_Port'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@subContainerMappings[name='IBD_Part']/@borderedNodeMappings[name='IBD_PartFlowPort'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@subContainerMappings[name='IBD_Part']/@borderedNodeMappings[name='IBD_PartPort']" targetMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@borderedNodeMappings[name='IBD_FlowPort'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@borderedNodeMappings[name='IBD_Port'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@subContainerMappings[name='IBD_Part']/@borderedNodeMappings[name='IBD_PartFlowPort'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@subContainerMappings[name='IBD_Part']/@borderedNodeMappings[name='IBD_PartPort']" targetFinderExpression="[end->asSequence()->last().role/]" sourceFinderExpression="[end->asSequence()->first().role/]" domainClass="uml.Connector" useDomainElement="true">
          <style targetArrow="NoDecoration" sizeComputationExpression="2" routingStyle="manhattan">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_blue']"/>
            <centerLabelStyleDescription labelExpression="[computeUmlLabel()/]">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
          <conditionnalStyles predicateExpression="[end.getStereotypeApplications()->filter(sysml::portandflows::FlowPort)->size() >0/]">
            <style targetArrow="NoDecoration" sizeComputationExpression="2" routingStyle="manhattan">
              <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_purple']"/>
              <centerLabelStyleDescription labelExpression="[computeUmlLabel()/]">
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </centerLabelStyleDescription>
            </style>
          </conditionnalStyles>
        </edgeMappings>
        <containerMappings name="IBD_Block" detailDescriptions="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.5/@ownedTools[name='IBD%20Create%20PAR']" navigationDescriptions="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.5/@ownedTools[name='IBD%20to%20BDD'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.5/@ownedTools[name='IBD%20to%20PAR']" semanticCandidatesExpression="[self/]" semanticElements="[self->union(self.getStereotypeApplications())/]" domainClass="uml.Class">
          <borderedNodeMappings name="IBD_FlowPort" preconditionExpression="[getStereotypeApplications()->filter(sysml::portandflows::FlowPort)->size() > 0/]" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.3/@subSections[name='IBD%20Delete%20Objects']/@ownedTools[name='Delete%20FlowPort']" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='Edit%20FlowPort%20Name']" semanticCandidatesExpression="[ownedPort/]" semanticElements="[self->union(self.getStereotypeApplications())/]" doubleClickDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='IDD%20Select%20Type%20for%20FlowPort']" domainClass="uml.Port">
            <style xsi:type="style:SquareDescription" borderSizeComputationExpression="2" showIcon="false" labelExpression="[name + ' : ' + type.name/]" tooltipExpression="[name + ' : ' + type.name + ' (inout)'/]" sizeComputationExpression="2" resizeKind="NSEW" color="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BluePortInOut']">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_purple']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
            <conditionnalStyles predicateExpression="[getStereotypeApplications()->filter(sysml::portandflows::FlowPort)->asSequence()->first().direction  = 'out'/]">
              <style xsi:type="style:SquareDescription" borderSizeComputationExpression="2" showIcon="false" labelExpression="[name + ' : ' + type.name/]" tooltipExpression="[name + ' : ' + type.name + ' (out)'/]" sizeComputationExpression="2" resizeKind="NSEW" color="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='PortOut']">
                <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_purple']"/>
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </style>
            </conditionnalStyles>
            <conditionnalStyles predicateExpression="[getStereotypeApplications()->filter(sysml::portandflows::FlowPort)->asSequence()->first().direction  = 'in'/]">
              <style xsi:type="style:SquareDescription" borderSizeComputationExpression="2" showIcon="false" labelExpression="[name + ' : ' + type.name/]" tooltipExpression="[name + ' : ' + type.name + ' (in)'/]" sizeComputationExpression="2" resizeKind="NSEW" color="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='PortIn']">
                <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_purple']"/>
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </style>
            </conditionnalStyles>
          </borderedNodeMappings>
          <borderedNodeMappings name="IBD_Port" preconditionExpression="[getStereotypeApplications()->filter(sysml::portandflows::FlowPort)->size() = 0/]" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.3/@subSections[name='IBD%20Delete%20Objects']/@ownedTools[name='Delete%20Port']" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='Edit%20Port%20Name']" semanticCandidatesExpression="[ownedPort/]" doubleClickDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='IDD%20Select%20Type%20for%20Port']" domainClass="uml.Port">
            <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="[name + ' : ' + type.name/]" tooltipExpression="[name + ' : ' + type.name/]" sizeComputationExpression="2" resizeKind="NSEW" color="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BluePortInOut']">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_blue']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </borderedNodeMappings>
          <subContainerMappings name="IBD_Part" detailDescriptions="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.5/@ownedTools[name='IBD']" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.3/@subSections[name='IBD%20Delete%20Objects']/@ownedTools[name='Delete%20Part']" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='Edit%20Part%20Name']" createElements="false" doubleClickDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='IDD%20Select%20Type%20for%20Part']" domainClass="uml.Property">
            <borderedNodeMappings name="IBD_PartFlowPort" preconditionExpression="&lt;%getStereotypeApplications().filter(&quot;portandflows.FlowPort&quot;).nSize() > 0%>" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.3/@subSections[name='IBD%20Delete%20Objects']/@ownedTools[name='Delete%20FlowPort']" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='Edit%20FlowPort%20Name']" semanticCandidatesExpression="[type.oclAsType(uml::EncapsulatedClassifier).ownedPort/]" semanticElements="&lt;%self+getStereotypeApplications()%>" doubleClickDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='IDD%20Select%20Type%20for%20FlowPort']" domainClass="uml.Port">
              <style xsi:type="style:SquareDescription" borderSizeComputationExpression="2" showIcon="false" labelExpression="[name + ' : ' + type.name/]" tooltipExpression="[name + ' : ' + type.name + ' (inout)'/]" sizeComputationExpression="2" resizeKind="NSEW" color="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BluePortInOut']">
                <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_purple']"/>
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </style>
              <conditionnalStyles predicateExpression="[getStereotypeApplications()->filter(sysml::portandflows::FlowPort)->asSequence()->first().direction  = 'out'/]">
                <style xsi:type="style:SquareDescription" borderSizeComputationExpression="2" showIcon="false" labelExpression="[name + ' : ' + type.name/]" tooltipExpression="[name + ' : ' + type.name + ' (out)'/]" sizeComputationExpression="2" resizeKind="NSEW" color="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='PortOut']">
                  <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_purple']"/>
                  <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
                </style>
              </conditionnalStyles>
              <conditionnalStyles predicateExpression="[getStereotypeApplications()->filter(sysml::portandflows::FlowPort)->asSequence()->first().direction  = 'in'/]">
                <style xsi:type="style:SquareDescription" borderSizeComputationExpression="2" showIcon="false" labelExpression="[name + ' : ' + type.name/]" tooltipExpression="[name + ' : ' + type.name + ' (in)'/]" sizeComputationExpression="2" resizeKind="NSEW" color="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='PortIn']">
                  <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_purple']"/>
                  <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
                </style>
              </conditionnalStyles>
            </borderedNodeMappings>
            <borderedNodeMappings name="IBD_PartPort" preconditionExpression="&lt;%getStereotypeApplications().filter(&quot;portandflows.FlowPort&quot;).nSize() == 0%>" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.3/@subSections[name='IBD%20Delete%20Objects']/@ownedTools[name='Delete%20Port']" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='Edit%20Port%20Name']" semanticCandidatesExpression="[type.oclAsType(uml::EncapsulatedClassifier).ownedPort/]" doubleClickDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='IDD%20Select%20Type%20for%20Port']" domainClass="uml.Port">
              <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="[name + ' : ' + type.name/]" tooltipExpression="[name + ' : ' + type.name/]" sizeComputationExpression="2" resizeKind="NSEW" color="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BluePortInOut']">
                <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_blue']"/>
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </style>
              <conditionnalStyles predicateExpression="[getStereotypeApplications()->filter(sysml::portandflows::FlowPort)->asSequence()->first().direction  = 'out'/]">
                <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="[name + ' : ' + type.name/]" tooltipExpression="[name + ' : ' + type.name/]" sizeComputationExpression="2" resizeKind="NSEW" color="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='PortOut']">
                  <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_blue']"/>
                  <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
                </style>
              </conditionnalStyles>
              <conditionnalStyles predicateExpression="[getStereotypeApplications()->filter(sysml::portandflows::FlowPort)->asSequence()->first().direction  = 'in'/]">
                <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="[name + ' : ' + type.name/]" tooltipExpression="[name + ' : ' + type.name/]" sizeComputationExpression="2" resizeKind="NSEW" color="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='PortIn']">
                  <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_blue']"/>
                  <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
                </style>
              </conditionnalStyles>
            </borderedNodeMappings>
            <style xsi:type="style:FlatContainerStyleDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="[computeUmlLabel()/]" tooltipExpression="[name + ' : ' + type.name/]" backgroundStyle="GradientTopToBottom" foregroundColor="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BlueBlock']">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_blue']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            </style>
            <conditionnalStyles predicateExpression="[self.eContainer() &lt;> container/]">
              <style xsi:type="style:FlatContainerStyleDescription" borderSizeComputationExpression="1" labelExpression="[computeUmlLabel()/]" tooltipExpression="[name + ' : ' + type.name/]" backgroundStyle="GradientTopToBottom" foregroundColor="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BlueBlock']">
                <borderColor xsi:type="description:UserFixedColor" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@userColorsPalettes[name='UMLPalette']/@entries[name='lighter%20blue']"/>
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
                <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
              </style>
            </conditionnalStyles>
          </subContainerMappings>
          <style xsi:type="style:FlatContainerStyleDescription" showIcon="false" labelExpression="[diagram.name/]" labelAlignment="LEFT" tooltipExpression="[name/]" backgroundStyle="GradientTopToBottom" foregroundColor="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BlueDataType']">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_blue']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            <labelBorderStyle href="environment:/viewpoint#//@labelBorderStyles/@labelBorderStyleDescriptions.0"/>
          </style>
        </containerMappings>
        <toolSections name="IBD_ExistingElements" label="Existing Elements">
          <ownedTools xsi:type="tool:SelectionWizardDescription" name="IBD_AddExistingElements" label="Add" precondition="&lt;%filter(&quot;Class&quot;)%>" forceRefresh="true" candidatesExpression="&lt;%self.getValidsForInternalBlockDiagram()%>" multiple="true" iconPath="/org.eclipse.search/icons/full/etool16/search.gif" windowTitle="Select element to add in current representation">
            <element name="element"/>
            <containerView name="containerView"/>
            <container name="container"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                <subModelOperations xsi:type="tool:For" expression="[element/]" iteratorName="selection">
                  <subModelOperations xsi:type="tool:Switch">
                    <cases conditionExpression="[selection->filter(Property)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@subContainerMappings[name='IBD_Part']" containerViewExpression="&lt;%$selection.eContainer().~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;IBD_Block&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $diagram]%>"/>
                    </cases>
                    <default/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerDropDescription" name="IBD_Drop" precondition="&lt;%filter(&quot;Class&quot;)+filter(&quot;Property&quot;)%>" forceRefresh="true" mappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@subContainerMappings[name='IBD_Part']" dragSource="PROJECT_EXPLORER">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                <subModelOperations xsi:type="tool:For" expression="[element/]" iteratorName="selection">
                  <subModelOperations xsi:type="tool:Switch">
                    <cases conditionExpression="[selection->filter(Class)->size()>0/]">
                      <subModelOperations xsi:type="tool:For" expression="[element.eContents()/]" iteratorName="packagedElement">
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$packagedElement.filter(&quot;Property&quot;)%>">
                          <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@subContainerMappings[name='IBD_Part']" containerViewExpression="&lt;%$selection.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;IBD_Block&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $newContainerView]%>"/>
                        </subModelOperations>
                      </subModelOperations>
                    </cases>
                    <cases conditionExpression="[selection->filter(Property)->size()>0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@subContainerMappings[name='IBD_Part']" containerViewExpression="&lt;%$selection.eContainer().~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;IBD_Block&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $newContainerView]%>"/>
                    </cases>
                    <default/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:OperationAction" name="IBD_AddRelatedElements" label="Add Related Elements" forceRefresh="true" icon="/org.eclipse.search/icons/full/etool16/search.gif">
            <view name="views"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[views.target/]">
                <subModelOperations xsi:type="tool:For" expression="[getRelated()/]">
                  <subModelOperations xsi:type="tool:Switch">
                    <cases conditionExpression="&lt;%$i.filter(&quot;Property&quot;)%>">
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$i.eContainer.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;IBD_Block&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $diagram].length>0%>">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@subContainerMappings[name='IBD_Part']" containerViewExpression="&lt;%$i.eContainer.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;IBD_Block&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $diagram]%>"/>
                      </subModelOperations>
                    </cases>
                    <default/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" name="IBD_RemoveExistingElements" label="Remove" precondition="&lt;%!filter(&quot;Class&quot;)&amp;&amp; !$containerView.filter(&quot;DDiagram&quot;)%>" forceRefresh="true" iconPath="/org.eclipse.search/icons/full/dtool16/search.gif">
            <element name="element"/>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:DeleteView"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="IBD Create Objects" label="Features">
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="IBD Create Part" label="Part" forceRefresh="true" containerMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@subContainerMappings[name='IBD_Part']">
            <variable name="container">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="selectedType" candidatesExpression="[container.getRootContainer().eAllContents(uml::Class)->select(not(getStereotypeApplications()->filter(sysml::blocks::Block)->isEmpty()) and getStereotypeApplications()->filter(sysml::constraints::ConstraintBlock)->isEmpty())/]" message="Select Block"/>
            </variable>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedAttribute">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['part' + container.ownedAttribute->size()/]"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="aggregation" valueExpression="composite"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[selectedType/]"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="IBD Create FlowPort" label="FlowPort" nodeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@borderedNodeMappings[name='IBD_FlowPort'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@subContainerMappings[name='IBD_Part']/@borderedNodeMappings[name='IBD_PartFlowPort']">
            <variable name="container">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="selectedType" candidatesExpression="[container.getRootContainer().eAllContents(uml::Class)->select(c : Class |  c.getStereotypeApplications()->filter(sysml::constraints::ConstraintBlock)->isEmpty() and (not(c.getStereotypeApplications()->filter(sysml::blocks::Block)->isEmpty()) or not(c->filter(uml::DataType)->isEmpty()) or not(c->filter(uml::PrimitiveType)->isEmpty())))/]" message="Select Type"/>
            </variable>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                <subModelOperations xsi:type="tool:If" conditionExpression="[container.oclIsKindOf(uml::Class)/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Port" referenceName="ownedAttribute" variableName="p">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['flowPort' + container.type.oclAsType(uml::Class).ownedAttribute->size()/]"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="aggregation" valueExpression="composite"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[selectedType/]"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::PortAndFlows', 'FlowPort')/]"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="[container.oclIsKindOf(Property)/]">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[container.type/]">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Port" referenceName="ownedAttribute" variableName="p">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['flowPort' + container.type.oclAsType(uml::Class).ownedAttribute->size()/]"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="aggregation" valueExpression="composite"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[selectedType/]"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::PortAndFlows', 'FlowPort')/]"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="IBD Create Port" label="Port" nodeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@borderedNodeMappings[name='IBD_Port'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@subContainerMappings[name='IBD_Part']/@borderedNodeMappings[name='IBD_PartPort']">
            <variable name="container">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="selectedType" candidatesExpression="[container.getRootContainer().eAllContents(uml::Class)->select(c : Class |  c.getStereotypeApplications()->filter(sysml::constraints::ConstraintBlock)->isEmpty() and (not(c.getStereotypeApplications()->filter(sysml::blocks::Block)->isEmpty()) or not(c->filter(uml::DataType)->isEmpty()) or not(c->filter(uml::PrimitiveType)->isEmpty())))/]" message="Select Type"/>
            </variable>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                <subModelOperations xsi:type="tool:If" conditionExpression="[container.oclIsKindOf(uml::Class)/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Port" referenceName="ownedAttribute" variableName="p">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['port' + container.type.oclAsType(uml::Class).ownedAttribute->size()/]"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="aggregation" valueExpression="composite"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[selectedType/]"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="[container.oclIsKindOf(Property)/]">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[container.type/]">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Port" referenceName="ownedAttribute" variableName="p">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['port' + container.type.oclAsType(uml::Class).ownedAttribute->size()/]"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="aggregation" valueExpression="composite"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[selectedType/]"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="IBD Create Edges" label="Connections">
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="IBD Create Port Connector" label="Flow" precondition="[if eContainer() &lt;> preSourceView.eContainer(viewpoint::DDiagram).oclAsType(viewpoint::DSemanticDecorator).target and preTarget.eContainer() &lt;> preTargetView.eContainer(viewpoint::DDiagram).oclAsType(viewpoint::DSemanticDecorator).target then isDualWith(preTarget) else isDelegationOf(preTarget) endif/]" edgeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@edgeMappings[name='IBD_PortConnector']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[sourceView.eContainer(viewpoint::DDiagram).oclAsType(viewpoint::DSemanticDecorator).target/]">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Connector" referenceName="ownedConnector">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['newConnector' + eContainer(uml::StructuredClassifier).ownedConnector->size()/]"/>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.ConnectorEnd" referenceName="end" variableName="c_end_source">
                    <subModelOperations xsi:type="tool:SetValue" featureName="role" valueExpression="[source/]"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.ConnectorEnd" referenceName="end" variableName="c_end_target">
                    <subModelOperations xsi:type="tool:SetValue" featureName="role" valueExpression="[target/]"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="IBD Delete Section">
          <subSections name="IBD Delete Objects">
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete FlowPort">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element.oclAsType(uml::Element).deleteAssociatedStereotype('SysML::PortAndFlows::FlowPort')/]">
                  <subModelOperations xsi:type="tool:RemoveElement"/>
                </firstModelOperations>
              </initialOperation>
            </ownedTools>
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Port">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                  <subModelOperations xsi:type="tool:RemoveElement"/>
                </firstModelOperations>
              </initialOperation>
            </ownedTools>
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Part">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                  <subModelOperations xsi:type="tool:RemoveElement"/>
                </firstModelOperations>
              </initialOperation>
            </ownedTools>
            <ownedTools xsi:type="tool:DeleteElementDescription" name="IBD Delete Requirement" precondition="[false/]">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext"/>
              </initialOperation>
            </ownedTools>
          </subSections>
          <subSections name="IBD Delete Edges">
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Connector">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                  <subModelOperations xsi:type="tool:RemoveElement"/>
                </firstModelOperations>
              </initialOperation>
            </ownedTools>
          </subSections>
        </toolSections>
        <toolSections name="IBD Edit Section">
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Part Name" forceRefresh="true">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[editUmlLabel(arg0)/]"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit FlowPort Name" forceRefresh="true">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[editUmlLabel(arg0)/]"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Port Name" forceRefresh="true">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[editUmlLabel(arg0)/]"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Connector Name" forceRefresh="true">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[editUmlLabel(arg0)/]"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DoubleClickDescription" name="IDD Select Type for Part" forceRefresh="true" mappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@subContainerMappings[name='IBD_Part']">
            <element name="element"/>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element.type/]">
                <subModelOperations xsi:type="tool:Navigation" createIfNotExistent="true" diagramDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DoubleClickDescription" name="IDD Select Type for FlowPort" forceRefresh="true" mappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@borderedNodeMappings[name='IBD_FlowPort'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@subContainerMappings[name='IBD_Part']/@borderedNodeMappings[name='IBD_PartFlowPort']">
            <element name="element">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="selectedType" candidatesExpression="[element.getRootContainer().eAllContents(uml::Class)->select(c : Class | not(c.getStereotypeApplications()->filter(sysml::blocks::Block)->isEmpty()) or not(c->filter(uml::DataType)->isEmpty()) or not(c->filter(uml::PrimitiveType)->isEmpty()))/]" message="Select Type"/>
            </element>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[selectedType/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DoubleClickDescription" name="IDD Select Type for Port" forceRefresh="true" mappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@borderedNodeMappings[name='IBD_Port'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@containerMappings[name='IBD_Block']/@subContainerMappings[name='IBD_Part']/@borderedNodeMappings[name='IBD_PartPort']">
            <element name="element">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="selectedType" candidatesExpression="[element.getRootContainer().eAllContents(uml::Class)->select(c : Class | not(c.getStereotypeApplications()->filter(sysml::blocks::Block)->isEmpty()) or not(c->filter(uml::DataType)->isEmpty()) or not(c->filter(uml::PrimitiveType)->isEmpty()))/]" message="Select Type"/>
            </element>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[selectedType/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="IBD Navigate Section">
          <ownedTools xsi:type="tool:DiagramNavigationDescription" name="IBD to BDD" forceRefresh="true" browseExpression="[eContainer()/]" navigationNameExpression="['Open ' + diagramName/]" diagramDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']">
            <containerViewVariable name="containerView"/>
            <containerVariable name="container"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
          <ownedTools xsi:type="tool:DiagramCreationDescription" name="IBD" label="Create Internal Block Diagram" titleExpression="['ibd [block] ' + self.name + ' [' + self.name + ' diagram]'/]" browseExpression="[type/]" diagramDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']">
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[self/]"/>
            </initialOperation>
            <containerViewVariable name="containerView"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
          <ownedTools xsi:type="tool:DiagramNavigationDescription" name="IBD to PAR" forceRefresh="true" browseExpression="[eContainer()/]" navigationNameExpression="['Open ' + diagramName/]" diagramDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']">
            <containerViewVariable name="containerView"/>
            <containerVariable name="container"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
          <ownedTools xsi:type="tool:DiagramCreationDescription" name="IBD Create PAR" label="Create Parametric Diagram" titleExpression="['par [block] ' + self.name + ' [' + self.name + ' diagram]'/]" browseExpression="[type/]" diagramDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']">
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[self/]"/>
            </initialOperation>
            <containerViewVariable name="containerView"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
        </toolSections>
      </defaultLayer>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description:DiagramDescription" dropDescriptions="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@toolSections.0/@ownedTools[name='PAR_Drop']" name="Parametric Diagram" titleExpression="['par [block] ' + self.name + ' [' + self.name + ' diagram]'/]" domainClass="uml.Class" preconditionExpression="[getStereotypeApplications()->filter(sysml::blocks::Block)->size() > 0/]">
      <metamodel href="http://www.eclipse.org/papyrus/0.7.0/SysML#/"/>
      <metamodel href="http://www.eclipse.org/uml2/4.0.0/UML#/"/>
      <defaultLayer name="PAR Parametric Layer" label="Parametric Layer">
        <edgeMappings name="PAR_ParameterConnector" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@toolSections.3/@subSections[name='PAR%20Delete%20Edges']/@ownedTools[name='Delete%20Parameter%20Connector']" semanticCandidatesExpression="[ownedConnector/]" semanticElements="[self/]" sourceMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@containerMappings[name='PAR_Block']/@subContainerMappings[name='PAR_Constraint']/@borderedNodeMappings[name='PAR_Parameter']" targetMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@containerMappings[name='PAR_Block']/@subContainerMappings[name='PAR_Constraint']/@borderedNodeMappings[name='PAR_Parameter']" targetFinderExpression="[end->asSequence()->last().role/]" sourceFinderExpression="[end->asSequence()->first().role/]" domainClass="uml.Connector" useDomainElement="true">
          <style targetArrow="NoDecoration" sizeComputationExpression="2" routingStyle="manhattan">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_blue']"/>
            <centerLabelStyleDescription showIcon="false">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <containerMappings name="PAR_Block" navigationDescriptions="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@toolSections.5/@ownedTools[name='PAR%20to%20IBD']" semanticCandidatesExpression="[self/]" semanticElements="[self->union(self.getStereotypeApplications())/]" domainClass="uml.Class">
          <subContainerMappings name="PAR_Constraint" preconditionExpression="[getStereotypeApplications()->filter(sysml::constraints::ConstraintProperty)->size() > 0/]" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@toolSections.3/@subSections[name='PAR%20Delete%20Objects']/@ownedTools[name='Delete%20Constraint%20Property']" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='PAR_Edit_Constraint']" semanticCandidatesExpression="[eContents()/]" createElements="false" doubleClickDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@toolSections.5/@ownedTools[name='PAR%20Select%20Type%20for%20Constraint']" domainClass="uml.Property">
            <borderedNodeMappings name="PAR_Parameter" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@toolSections.3/@subSections[name='PAR%20Delete%20Objects']/@ownedTools[name='Delete%20Parameter']" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='PAR_Edit_Parameter']" semanticCandidatesExpression="[type.eContents(uml::Property)/]" doubleClickDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@toolSections.5/@ownedTools[name='PAR%20Select%20Type%20for%20Parameter']" domainClass="uml.Property">
              <style xsi:type="style:SquareDescription" showIcon="false" labelExpression="[computeUmlLabel()/]" sizeComputationExpression="2" resizeKind="NSEW">
                <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_blue']"/>
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
                <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
              </style>
            </borderedNodeMappings>
            <style xsi:type="style:FlatContainerStyleDescription" arcWidth="15" arcHeight="15" showIcon="false" labelExpression="[computeUmlLabel()/]" tooltipExpression="[name/]" roundedCorner="true" backgroundStyle="GradientTopToBottom" foregroundColor="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BlueBlock']">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            </style>
          </subContainerMappings>
          <style xsi:type="style:FlatContainerStyleDescription" showIcon="false" labelExpression="[diagram.name/]" labelAlignment="LEFT" tooltipExpression="[name/]" backgroundStyle="GradientTopToBottom" foregroundColor="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BlueDataType']">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_blue']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            <labelBorderStyle href="environment:/viewpoint#//@labelBorderStyles/@labelBorderStyleDescriptions.0"/>
          </style>
        </containerMappings>
        <toolSections name="PAR_ExistingElements" label="Existing Elements" reusedTools="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']/@defaultLayer/@toolSections.0/@ownedTools[name='IBD_RemoveExistingElements']">
          <ownedTools xsi:type="tool:SelectionWizardDescription" name="PAR_AddExistingElements" label="Add" precondition="&lt;%filter(&quot;Class&quot;)%>" forceRefresh="true" candidatesExpression="&lt;%self.getValidsForParametricBlockDiagram()%>" multiple="true" iconPath="/org.eclipse.search/icons/full/etool16/search.gif" windowTitle="Select element to add in current representation">
            <element name="element"/>
            <containerView name="containerView"/>
            <container name="container"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                <subModelOperations xsi:type="tool:For" expression="[element/]" iteratorName="selection">
                  <subModelOperations xsi:type="tool:Switch">
                    <cases conditionExpression="[selection->filter(Property)->size()>0/]">
                      <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::constraints::ConstraintProperty)->size() > 0/]">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@containerMappings[name='PAR_Block']/@subContainerMappings[name='PAR_Constraint']" containerViewExpression="&lt;%$selection.eContainer().~target.filter(&quot;DNodeContainer&quot;)[(actualMapping.name==&quot;PAR_Block&quot; || actualMapping.name==&quot;PAR_Block_Import&quot;)&amp;&amp; eContainer(&quot;DDiagram&quot;) == $diagram]%>"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::constraints::ConstraintProperty)->size() = 0/]">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@optionalLayers[name='PAR%20ValueBinding%20Layer']/@containerMappings[name='PAR_Block_Import']/@subContainerMappings[name='PAR_ValueBinding']" containerViewExpression="&lt;%$selection.eContainer().~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;PAR_Block_Import&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $diagram]%>"/>
                      </subModelOperations>
                    </cases>
                    <default/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerDropDescription" name="PAR_Drop" precondition="&lt;%filter(&quot;Class&quot;)+filter(&quot;Property&quot;)%>" forceRefresh="true" mappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@containerMappings[name='PAR_Block']/@subContainerMappings[name='PAR_Constraint'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@optionalLayers[name='PAR%20ValueBinding%20Layer']/@containerMappings[name='PAR_Block_Import']/@subContainerMappings[name='PAR_ValueBinding']" dragSource="PROJECT_EXPLORER">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                <subModelOperations xsi:type="tool:For" expression="[element/]" iteratorName="selection">
                  <subModelOperations xsi:type="tool:Switch">
                    <cases conditionExpression="[selection->filter(Property)->size()>0/]">
                      <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::constraints::ConstraintProperty)->size() > 0/]">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@containerMappings[name='PAR_Block']/@subContainerMappings[name='PAR_Constraint']" containerViewExpression="&lt;%$selection.eContainer().~target.filter(&quot;DNodeContainer&quot;)[(actualMapping.name==&quot;PAR_Block&quot; || actualMapping.name==&quot;PAR_Block_Import&quot;)&amp;&amp; eContainer(&quot;DDiagram&quot;) == $newContainerView]%>"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::constraints::ConstraintProperty)->size() = 0/]">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@optionalLayers[name='PAR%20ValueBinding%20Layer']/@containerMappings[name='PAR_Block_Import']/@subContainerMappings[name='PAR_ValueBinding']" containerViewExpression="&lt;%$selection.eContainer().~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;PAR_Block_Import&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $newContainerView]%>"/>
                      </subModelOperations>
                    </cases>
                    <default/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:OperationAction" name="PAR_AddRelatedElements" label="Add Related Elements" forceRefresh="true" icon="/org.eclipse.search/icons/full/etool16/search.gif">
            <view name="views"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[views.target/]">
                <subModelOperations xsi:type="tool:For" expression="[getRelated()/]">
                  <subModelOperations xsi:type="tool:Switch">
                    <cases conditionExpression="&lt;%$i.filter(&quot;Property&quot;)%>">
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$i.eContainer.~target.filter(&quot;DNodeContainer&quot;)[(actualMapping.name==&quot;PAR_Block&quot;||actualMapping.name==&quot;PAR_Block_Import&quot;) &amp;&amp; eContainer(&quot;DDiagram&quot;) == $diagram].length>0%>">
                        <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::constraints::ConstraintProperty)->size() > 0/]">
                          <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@containerMappings[name='PAR_Block']/@subContainerMappings[name='PAR_Constraint']" containerViewExpression="&lt;%$i.eContainer.~target.filter(&quot;DNodeContainer&quot;)[actualMapping.name==&quot;PAR_Block_Import&quot; &amp;&amp; eContainer(&quot;DDiagram&quot;) == $diagram]%>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::constraints::ConstraintProperty)->size() = 0/]"/>
                      </subModelOperations>
                    </cases>
                    <default/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="PAR Create Objects" label="Features">
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="PAR Create Constraint" label="Constraint" containerMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@containerMappings[name='PAR_Block']/@subContainerMappings[name='PAR_Constraint']">
            <variable name="container">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="selectedElement" candidatesExpression="[container.getRootContainer().eAllContents(uml::Package)->union(container.getRootContainer().eAllContents(uml::Class)->select(not(getStereotypeApplications()->filter(sysml::blocks::Block)->isEmpty())))/]" message="Select Package or Block in which the new constraint Block will be created"/>
            </variable>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[selectedElement/]">
                <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Package)/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Class" referenceName="packagedElement" variableName="newConstraintBlock">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="newConstraintBlock"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Constraints', 'ConstraintBlock')/]"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="[oclIsKindOf(uml::Class)/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Class" referenceName="nestedClassifier" variableName="newConstraintBlock">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="newConstraintBlock"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Constraints', 'ConstraintBlock')/]"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedAttribute" variableName="constraintProperty">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['constraintProperty' + container.ownedAttribute->size()/]"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Constraints', 'ConstraintProperty')/]"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="aggregation" valueExpression="composite"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[newConstraintBlock/]"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="PAR Create Parameter" label="Parameter" nodeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@containerMappings[name='PAR_Block']/@subContainerMappings[name='PAR_Constraint']/@borderedNodeMappings[name='PAR_Parameter']">
            <variable name="container">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="selectedType" candidatesExpression="[container.getRootContainer().eAllContents(uml::Classifier)->select(c : Classifier | not(c.getStereotypeApplications()->filter(sysml::blocks::Block)->isEmpty()) or not(c->filter(uml::DataType)->isEmpty()) or not(c->filter(uml::PrimitiveType)->isEmpty()))/]" message="Select Type"/>
            </variable>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container.type/]">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Property" referenceName="ownedAttribute" variableName="parameter">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['parameter' + container.type.oclAsType(uml::Class).ownedAttribute->size()/]"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="aggregation" valueExpression="composite"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[selectedType/]"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="PAR Create Edges" label="Connections">
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="PAR Create Parameter Connector" label="Parameter" precondition="[preSource.type = preTarget.type/]" edgeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@edgeMappings[name='PAR_ParameterConnector']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[sourceView.eContainer(viewpoint::DDiagram).oclAsType(viewpoint::DSemanticDecorator).target/]">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Connector" referenceName="ownedConnector">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['newConnector' + eContainer(uml::StructuredClassifier).ownedConnector->size()/]"/>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.ConnectorEnd" referenceName="end" variableName="c_end_source">
                    <subModelOperations xsi:type="tool:SetValue" featureName="role" valueExpression="[source/]"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.ConnectorEnd" referenceName="end" variableName="c_end_target">
                    <subModelOperations xsi:type="tool:SetValue" featureName="role" valueExpression="[target/]"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="PAR Delete Section" label="PAR Delete Section">
          <subSections name="PAR Delete Objects">
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Constraint Property">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element.oclAsType(uml::Element).deleteAssociatedStereotype('SysML::Constraints::ConstraintProperty')/]">
                  <subModelOperations xsi:type="tool:RemoveElement"/>
                </firstModelOperations>
              </initialOperation>
            </ownedTools>
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Parameter">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:RemoveElement"/>
              </initialOperation>
            </ownedTools>
          </subSections>
          <subSections name="PAR Delete Edges">
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Parameter Connector">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:RemoveElement"/>
              </initialOperation>
            </ownedTools>
          </subSections>
        </toolSections>
        <toolSections name="PAR Edit Section">
          <ownedTools xsi:type="tool:DirectEditLabel" name="PAR_Edit_Constraint" label="Edit Constraint">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[editUmlLabel(arg0)/]"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="PAR_Edit_Parameter" label="Edit Parameter">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[editUmlLabel(arg0)/]"/>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="PAR Navigate Section">
          <ownedTools xsi:type="tool:DiagramNavigationDescription" name="PAR to IBD" forceRefresh="true" browseExpression="[eContainer()/]" navigationNameExpression="['Open ' + diagramName/]" diagramDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Internal%20Block%20Diagram']">
            <containerViewVariable name="containerView"/>
            <containerVariable name="container"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
          <ownedTools xsi:type="tool:DoubleClickDescription" name="PAR Select Type for Constraint" mappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@containerMappings[name='PAR_Block']/@subContainerMappings[name='PAR_Constraint']">
            <element name="element">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="selectedElement" candidatesExpression="[element.getRootContainer().eAllContents(uml::Class)->select(not(getStereotypeApplications()->filter(sysml::constraints::ConstraintBlock)->isEmpty()))/]" message="Select Block Constraint"/>
            </element>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[selectedElement/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DoubleClickDescription" name="PAR Select Type for Parameter" mappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@containerMappings[name='PAR_Block']/@subContainerMappings[name='PAR_Constraint']/@borderedNodeMappings[name='PAR_Parameter']">
            <element name="element">
              <subVariables xsi:type="tool:SelectModelElementVariable" name="selectedType" candidatesExpression="[element.getRootContainer().eAllContents(uml::Class)->select(c : Class | c.getStereotypeApplications()->filter(sysml::constraints::ConstraintBlock)->isEmpty() and not(c.getStereotypeApplications()->filter(sysml::blocks::Block)->isEmpty()) or not(c->filter(uml::DataType)->isEmpty()) or not(c->filter(uml::PrimitiveType)->isEmpty()))/]" message="Select Type"/>
            </element>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[element/]">
                <subModelOperations xsi:type="tool:SetValue" featureName="type" valueExpression="[selectedType/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
      </defaultLayer>
      <optionalLayers name="PAR ValueBinding Layer" label="Value Binding">
        <edgeMappings name="PAR_ValueBindingConnector" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@optionalLayers[name='PAR%20ValueBinding%20Layer']/@toolSections.1/@ownedTools[name='Delete%20Value%20Binding%20Connector']" semanticCandidatesExpression="[ownedConnector/]" semanticElements="[self/]" sourceMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@containerMappings[name='PAR_Block']/@subContainerMappings[name='PAR_Constraint']/@borderedNodeMappings[name='PAR_Parameter']" targetMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@optionalLayers[name='PAR%20ValueBinding%20Layer']/@containerMappings[name='PAR_Block_Import']/@subContainerMappings[name='PAR_ValueBinding']" targetFinderExpression="[end->asSequence()->last().role/]" sourceFinderExpression="[end->asSequence()->first().role/]" domainClass="uml.Connector" useDomainElement="true">
          <style targetArrow="NoDecoration" sizeComputationExpression="2" routingStyle="manhattan">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_blue']"/>
            <centerLabelStyleDescription showIcon="false">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <containerMappings xsi:type="description:ContainerMappingImport" name="PAR_Block_Import" semanticCandidatesExpression="[self/]" reusedContainerMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@containerMappings[name='PAR_Block']/@subContainerMappings[name='PAR_Constraint']" importedMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@defaultLayer/@containerMappings[name='PAR_Block']">
          <subContainerMappings name="PAR_ValueBinding" deletionDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@optionalLayers[name='PAR%20ValueBinding%20Layer']/@toolSections.1/@ownedTools[name='Delete%20Value%20Binding']" createElements="false" domainClass="uml.Property">
            <style xsi:type="style:FlatContainerStyleDescription" showIcon="false" labelExpression="[name + ' : ' + type.name + '\n(' + eContainer(uml::Class).name + ')'/]" tooltipExpression="[name/]" backgroundStyle="GradientTopToBottom" foregroundColor="//@userColorsPalettes[name='SysML%20Color%20Palette']/@entries[name='BlueBlock']">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            </style>
          </subContainerMappings>
        </containerMappings>
        <toolSections name="PAR Create Edges" label="Connections">
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="PAR Create ValueBinding Connector" label="Value" precondition="[preSource.type = preTarget.type/]" edgeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Parametric%20Diagram']/@optionalLayers[name='PAR%20ValueBinding%20Layer']/@edgeMappings[name='PAR_ValueBindingConnector']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[sourceView.eContainer(viewpoint::DDiagram).oclAsType(viewpoint::DSemanticDecorator).target/]">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Connector" referenceName="ownedConnector">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['newConnector' + eContainer(uml::StructuredClassifier).ownedConnector->size()/]"/>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.ConnectorEnd" referenceName="end" variableName="c_end_source">
                    <subModelOperations xsi:type="tool:SetValue" featureName="role" valueExpression="[source/]"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.ConnectorEnd" referenceName="end" variableName="c_end_target">
                    <subModelOperations xsi:type="tool:SetValue" featureName="role" valueExpression="[target/]"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="PAR Delete Value Binding Section">
          <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Value Binding">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[elementView/]">
                <subModelOperations xsi:type="tool:RemoveElement"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Value Binding Connector">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:RemoveElement"/>
            </initialOperation>
          </ownedTools>
        </toolSections>
      </optionalLayers>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description:DiagramDescription" dropDescriptions="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@toolSections.0/@ownedTools[name='RD_Drop']" name="Requirement Diagram" titleExpression="['req [package] ' + self.name + ' [' + self.name + ' diagram]'/]" domainClass="uml.Package">
      <metamodel href="http://www.eclipse.org/papyrus/0.7.0/SysML#//requirements"/>
      <metamodel href="http://www.eclipse.org/uml2/4.0.0/UML#/"/>
      <defaultLayer name="Default">
        <edgeMappings name="RD_DeriveReqtOrRefine" semanticCandidatesExpression="&lt;%$diagram.getNodeInverseRefs(&quot;Dependency&quot;)%>" sourceMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@containerMappings[name='RD_Requirement']" targetMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@containerMappings[name='RD_Requirement']" targetFinderExpression="&lt;%supplier%>" sourceFinderExpression="&lt;%client%>" domainClass="uml.Abstraction" useDomainElement="true" reconnections="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@toolSections.2/@ownedTools[name='Reconnect']">
          <style lineStyle="dash" sizeComputationExpression="1">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="&lt;&lt;deriveReqt>>">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
          <conditionnalStyles predicateExpression="&lt;%getStereotypeApplications.filter(&quot;Refine&quot;)%>">
            <style lineStyle="dash" sizeComputationExpression="1">
              <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
              <centerLabelStyleDescription showIcon="false" labelExpression="&lt;&lt;refine>>">
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </centerLabelStyleDescription>
            </style>
          </conditionnalStyles>
        </edgeMappings>
        <edgeMappings name="RD_Composition" sourceMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@containerMappings[name='RD_Requirement']" targetMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@containerMappings[name='RD_Requirement']" targetFinderExpression="&lt;%eContents%>" reconnections="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@toolSections.2/@ownedTools[name='Reconnect_Composition']">
          <style sourceArrow="FillDiamond" sizeComputationExpression="1">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <centerLabelStyleDescription showIcon="false">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <containerMappings name="RD_Requirement" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@toolSections.3/@ownedTools[name='RD_Edit']" createElements="false" semanticElements="&lt;%self%>" domainClass="requirements.Requirement" reusedContainerMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@containerMappings[name='RD_Requirement']" listContainer="true">
          <subNodeMappings name="RD_Requirement_Id" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@toolSections.3/@ownedTools[name='RD_Requirement_Id_Edit']" semanticCandidatesExpression="&lt;%self%>" domainClass="uml.Class">
            <style xsi:type="style:SquareDescription" showIcon="false" labelExpression="Id=&quot;&lt;%self.getStereotypeApplications().id%>&quot;" labelAlignment="LEFT" resizeKind="NSEW">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            </style>
          </subNodeMappings>
          <subNodeMappings name="RD_Requirement_Text" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@toolSections.3/@ownedTools[name='RD_Requirement_Text_Edit']" semanticCandidatesExpression="&lt;%self%>" domainClass="uml.Class">
            <style xsi:type="style:SquareDescription" showIcon="false" labelExpression="Text=&quot;&lt;%self.getStereotypeApplications().text%>&quot;" labelAlignment="LEFT" resizeKind="NSEW">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            </style>
          </subNodeMappings>
          <style xsi:type="style:FlatContainerStyleDescription" labelSize="10" labelFormat="bold" labelExpression="&lt;%computeUmlLabel()%>" iconPath="/org.eclipse.papyrus.sysml/icons/requirements/Requirement.gif" backgroundStyle="Liquid">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_gray']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            <foregroundColor xsi:type="description:UserFixedColor" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@userColorsPalettes[name='UMLPalette']/@entries[name='very%20light%20gray']"/>
          </style>
        </containerMappings>
        <toolSections name="Existing Elements">
          <ownedTools xsi:type="tool:SelectionWizardDescription" name="RD_AddExistingElements" label="Add" precondition="&lt;%filter(&quot;Package&quot;)%>" forceRefresh="true" candidatesExpression="&lt;%self.getValidsForRequirementDiagram($diagram)%>" multiple="true" tree="true" rootExpression="&lt;%getAllRootsInSession().filter(&quot;Model&quot;)%>" childrenExpression="&lt;%eContents()%>" iconPath="/org.eclipse.search/icons/full/etool16/search.gif" windowTitle="Select element to add in current representation">
            <element name="element"/>
            <containerView name="containerView"/>
            <container name="container"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:For" expression="&lt;%$element%>" iteratorName="selection">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selection.filter(&quot;Package&quot;)%>">
                    <subModelOperations xsi:type="tool:For" expression="&lt;%$selection.eContents()%>" iteratorName="packagedElement">
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$packagedElement.getStereotypeApplications().filter(&quot;Requirement&quot;)%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$packagedElement%>">
                          <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@containerMappings[name='RD_Requirement']" containerViewExpression="&lt;%$containerView%>"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selection.getStereotypeApplications().filter(&quot;Requirement&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$selection%>">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@containerMappings[name='RD_Requirement']" containerViewExpression="&lt;%$containerView%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selection.getStereotypeApplications().filter(&quot;TestCase&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$selection%>">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@optionalLayers[name='Verify']/@containerMappings[name='RD_TestCase']" containerViewExpression="&lt;%$containerView%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selection.filter(&quot;Class&quot;)%>">
                    <subModelOperations xsi:type="tool:For" expression="&lt;%$selection.ownedOperation%>" iteratorName="operation">
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$operation.getStereotypeApplications().filter(&quot;TestCase&quot;)%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$operation%>">
                          <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@optionalLayers[name='Verify']/@containerMappings[name='RD_TestCase']" containerViewExpression="&lt;%$containerView%>"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selection.filter(&quot;Class&quot;).getStereotypeApplications().filter(&quot;Block&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$selection%>">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block']" containerViewExpression="&lt;%$containerView%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selection.filter(&quot;StateMachine&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$selection%>">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@optionalLayers[name='Refine']/@containerMappings[name='RD_StateMachine']" containerViewExpression="&lt;%$containerView%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selection.filter(&quot;Activity&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$selection%>">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@optionalLayers[name='Refine']/@containerMappings[name='RD_Activity']" containerViewExpression="&lt;%$containerView%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selection.filter(&quot;UseCase&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$selection%>">
                      <subModelOperations xsi:type="tool:CreateView" containerViewExpression="&lt;%$containerView%>">
                        <mapping xsi:type="description:NodeMapping" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Behavioral%20Modeling']/@ownedRepresentations[name='Use%20Case%20Diagram']/@defaultLayer/@nodeMappings[name='UCD_UseCase_Root']"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selection.filter(&quot;Collaboration&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$selection%>">
                      <subModelOperations xsi:type="tool:CreateView" containerViewExpression="&lt;%$containerView%>">
                        <mapping xsi:type="description:ContainerMapping" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Behavioral%20Modeling']/@ownedRepresentations[name='Use%20Case%20Diagram']/@defaultLayer/@containerMappings[name='UCD_Subject']"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerDropDescription" name="RD_Drop" precondition="&lt;%filter(&quot;Package&quot;)+filter(&quot;Class&quot;)+filter(&quot;Operation&quot;)+filter(&quot;UseCase&quot;)+filter(&quot;Collaboration&quot;)%>" mappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@containerMappings[name='RD_Requirement'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@optionalLayers[name='Refine']/@containerMappings[name='RD_Activity'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@optionalLayers[name='Refine']/@containerMappings[name='RD_StateMachine'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@optionalLayers[name='Verify']/@containerMappings[name='RD_TestCase']" dragSource="PROJECT_EXPLORER">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:For" expression="&lt;%$element%>" iteratorName="selection">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selection.filter(&quot;Package&quot;)%>">
                    <subModelOperations xsi:type="tool:For" expression="&lt;%$selection.eContents()%>" iteratorName="packagedElement">
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$packagedElement.getStereotypeApplications().filter(&quot;Requirement&quot;)%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$packagedElement%>">
                          <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@containerMappings[name='RD_Requirement']" containerViewExpression="&lt;%$newContainerView%>"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selection.getStereotypeApplications().filter(&quot;Requirement&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$selection%>">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@containerMappings[name='RD_Requirement']" containerViewExpression="&lt;%$newContainerView%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selection.getStereotypeApplications().filter(&quot;TestCase&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$selection%>">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@optionalLayers[name='Verify']/@containerMappings[name='RD_TestCase']" containerViewExpression="&lt;%$newContainerView%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selection.filter(&quot;Class&quot;)%>">
                    <subModelOperations xsi:type="tool:For" expression="&lt;%$selection.ownedOperation%>" iteratorName="operation">
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$operation.getStereotypeApplications().filter(&quot;TestCase&quot;)%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$operation%>">
                          <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@optionalLayers[name='Verify']/@containerMappings[name='RD_TestCase']" containerViewExpression="&lt;%$newContainerView%>"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selection.filter(&quot;Class&quot;).getStereotypeApplications().filter(&quot;Block&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$selection%>">
                        <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block']" containerViewExpression="&lt;%$newContainerView%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selection.filter(&quot;StateMachine&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$selection%>">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@optionalLayers[name='Refine']/@containerMappings[name='RD_StateMachine']" containerViewExpression="&lt;%$newContainerView%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selection.filter(&quot;Activity&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$selection%>">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@optionalLayers[name='Refine']/@containerMappings[name='RD_Activity']" containerViewExpression="&lt;%$newContainerView%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selection.filter(&quot;UseCase&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$selection%>">
                      <subModelOperations xsi:type="tool:CreateView" containerViewExpression="&lt;%$newContainerView%>">
                        <mapping xsi:type="description:NodeMapping" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Behavioral%20Modeling']/@ownedRepresentations[name='Use%20Case%20Diagram']/@defaultLayer/@nodeMappings[name='UCD_UseCase_Root']"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selection.filter(&quot;Collaboration&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$selection%>">
                      <subModelOperations xsi:type="tool:CreateView" containerViewExpression="&lt;%$newContainerView%>">
                        <mapping xsi:type="description:ContainerMapping" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Behavioral%20Modeling']/@ownedRepresentations[name='Use%20Case%20Diagram']/@defaultLayer/@containerMappings[name='UCD_Subject']"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:OperationAction" name="RD_AddRelatedElements" label="Add Related Elements" forceRefresh="true" icon="/org.eclipse.search/icons/full/etool16/search.gif">
            <view name="views"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$views.target%>">
                <subModelOperations xsi:type="tool:For" expression="&lt;%getRelated()%>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$i.filter(&quot;Class&quot;)%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::requirements::Requirement)->size() > 0/]">
                      <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@containerMappings[name='RD_Requirement']" containerViewExpression="&lt;%$diagram%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$i.filter(&quot;Operation&quot;)%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="[getStereotypeApplications()->filter(sysml::requirements::TestCase)->size() > 0/]">
                      <subModelOperations xsi:type="tool:CreateView" containerViewExpression="&lt;%$diagram%>"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <reusedTools xsi:type="tool:ToolDescription" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Structural%20Modeling']/@ownedRepresentations[name='Class%20Diagram']/@defaultLayer/@toolSections.0/@ownedTools[name='CD_RemoveExistingElements']"/>
        </toolSections>
        <toolSections name="Types">
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="Requirement" containerMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@containerMappings[name='RD_Requirement']" iconPath="/org.eclipse.papyrus.sysml/icons/requirements/Requirement.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$container.filter(&quot;Package&quot;)%>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Class" referenceName="packagedElement">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['req' + container.packagedElement->filter(uml::Class)->select(not(getStereotypeApplications()->filter(sysml::requirements::Requirement)->isEmpty()))->size()/]"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Requirements', 'Requirement')/]"/>
                    <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@containerMappings[name='RD_Requirement']" containerViewExpression="&lt;%$containerView%>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$container.filter(&quot;Class&quot;)%>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Class" referenceName="nestedClassifier">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['req' + container.nestedClassifier->filter(uml::Class)->select(not(getStereotypeApplications()->filter(sysml::requirements::Requirement)->isEmpty()))->size()/]"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Requirements', 'Requirement')/]"/>
                    <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@containerMappings[name='RD_Requirement']" containerViewExpression="&lt;%$diagram%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Relationships">
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="DeriveReqt" edgeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@edgeMappings[name='RD_DeriveReqtOrRefine']" iconPath="/org.eclipse.papyrus.sysml/icons/requirements/DeriveReqt.gif">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source.eContainer(&quot;Package&quot;)%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Abstraction" referenceName="packagedElement" variableName="abstraction">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="derive"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="client" valueExpression="&lt;%$source%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="supplier" valueExpression="&lt;%$target%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Requirements', 'DeriveReqt')/]"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="clientDependency" valueExpression="&lt;%$abstraction%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ReconnectEdgeDescription" name="Reconnect" forceRefresh="true" reconnectionKind="RECONNECT_BOTH">
            <source name="source"/>
            <target name="target"/>
            <sourceView name="sourceView"/>
            <targetView name="targetView"/>
            <element name="element"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element.reconnectEdge($edgeView, $sourceView, $targetView, $source, $target)%>"/>
            </initialOperation>
            <edgeView name="edgeView"/>
          </ownedTools>
          <ownedTools xsi:type="tool:ReconnectEdgeDescription" name="Reconnect_Composition" reconnectionKind="RECONNECT_BOTH">
            <source name="source"/>
            <target name="target"/>
            <sourceView name="sourceView"/>
            <targetView name="targetView"/>
            <element name="element"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element.reconnectRequirement($edgeView, $sourceView, $targetView, $source, $target)%>"/>
            </initialOperation>
            <edgeView name="edgeView"/>
          </ownedTools>
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="Refine" edgeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@optionalLayers[name='Refine']/@edgeMappings[name='RD_Refine'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@edgeMappings[name='RD_DeriveReqtOrRefine']" iconPath="/org.eclipse.papyrus.sysml/icons/requirements/Refine.gif">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source.eContainer(&quot;Package&quot;)%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Abstraction" referenceName="packagedElement" variableName="abstraction">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="refine"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="client" valueExpression="&lt;%$source%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="supplier" valueExpression="&lt;%$target%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('StandardProfileL2', 'Refine')/]"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="clientDependency" valueExpression="&lt;%$abstraction%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="RD_Edit">
          <ownedTools xsi:type="tool:DirectEditLabel" name="RD_Edit">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%editUmlLabel($0)%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="RD_Requirement_Id_Edit">
            <mask mask="Id=&quot;{0}&quot;"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%self.getStereotypeApplications()%>">
                <subModelOperations xsi:type="tool:SetValue" featureName="id" valueExpression="&lt;%$0%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="RD_Requirement_Text_Edit">
            <mask mask="Text=&quot;{0}&quot;"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%self.getStereotypeApplications()%>">
                <subModelOperations xsi:type="tool:SetValue" featureName="text" valueExpression="&lt;%$0%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
      </defaultLayer>
      <optionalLayers name="Refine">
        <edgeMappings name="RD_Refine" semanticCandidatesExpression="&lt;%$diagram.getNodeInverseRefs(&quot;Abstraction&quot;)%>" targetMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@containerMappings[name='RD_Requirement']" targetFinderExpression="&lt;%supplier%>" sourceFinderExpression="&lt;%client%>" domainClass="uml.Abstraction" useDomainElement="true" reconnections="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@toolSections.2/@ownedTools[name='Reconnect']">
          <sourceMapping xsi:type="description:ContainerMapping" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Behavioral%20Modeling']/@ownedRepresentations[name='Use%20Case%20Diagram']/@defaultLayer/@containerMappings[name='UCD_Subject']"/>
          <sourceMapping xsi:type="description:NodeMapping" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Behavioral%20Modeling']/@ownedRepresentations[name='Use%20Case%20Diagram']/@defaultLayer/@nodeMappings[name='UCD_UseCase_Root']"/>
          <sourceMapping xsi:type="description:ContainerMapping" href="#//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@optionalLayers[name='Refine']/@containerMappings[name='RD_Activity']"/>
          <sourceMapping xsi:type="description:ContainerMapping" href="#//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@optionalLayers[name='Refine']/@containerMappings[name='RD_StateMachine']"/>
          <style lineStyle="dash" sizeComputationExpression="1">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="&lt;&lt;refine>>">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <containerMappings name="RD_Activity" createElements="false" domainClass="uml.Activity">
          <style xsi:type="style:FlatContainerStyleDescription" arcWidth="25" arcHeight="25" borderSizeComputationExpression="1" labelSize="10" labelExpression="&lt;%computeUmlLabel()%>" roundedCorner="true" backgroundStyle="Liquid">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_purple']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_purple']"/>
          </style>
        </containerMappings>
        <containerMappings name="RD_StateMachine" createElements="false" domainClass="uml.StateMachine">
          <style xsi:type="style:FlatContainerStyleDescription" arcWidth="25" arcHeight="25" borderSizeComputationExpression="1" labelSize="10" labelFormat="bold" labelExpression="&lt;%computeUmlLabel()%>" roundedCorner="true" backgroundStyle="Liquid">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_gray']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            <foregroundColor xsi:type="description:UserFixedColor" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@userColorsPalettes[name='UMLPalette']/@entries[name='very%20light%20gray']"/>
          </style>
        </containerMappings>
        <reusedMappings xsi:type="description:ContainerMapping" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Behavioral%20Modeling']/@ownedRepresentations[name='Use%20Case%20Diagram']/@defaultLayer/@containerMappings[name='UCD_Subject']"/>
        <reusedMappings xsi:type="description:NodeMapping" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@ownedViewpoints[name='UML%20Behavioral%20Modeling']/@ownedRepresentations[name='Use%20Case%20Diagram']/@defaultLayer/@nodeMappings[name='UCD_UseCase_Root']"/>
      </optionalLayers>
      <optionalLayers name="Satisfy" reusedMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block']">
        <edgeMappings name="RD_Satisfy" semanticCandidatesExpression="&lt;%$diagram.getNodeInverseRefs(&quot;Abstraction&quot;)%>" sourceMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']/@defaultLayer/@containerMappings[name='BDD_Block']" targetMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@containerMappings[name='RD_Requirement']" targetFinderExpression="&lt;%supplier%>" sourceFinderExpression="&lt;%client%>" domainClass="uml.Abstraction" useDomainElement="true" reconnections="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@toolSections.2/@ownedTools[name='Reconnect']">
          <style lineStyle="dash" sizeComputationExpression="1">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="&lt;&lt;satisfy>>">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <toolSections name="Relationships">
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="Satisfy" edgeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@optionalLayers[name='Satisfy']/@edgeMappings[name='RD_Satisfy']" iconPath="/org.eclipse.papyrus.sysml/icons/requirements/DeriveReqt.gif">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source.eContainer(&quot;Package&quot;)%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Abstraction" referenceName="packagedElement" variableName="abstraction">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="satisfy"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="client" valueExpression="&lt;%$source%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="supplier" valueExpression="&lt;%$target%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Requirements', 'Satisfy')/]"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="clientDependency" valueExpression="&lt;%$abstraction%>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$target%>">
                  <subModelOperations xsi:type="tool:SetValue" featureName="satisfiedBy" valueExpression="&lt;%$source%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
      </optionalLayers>
      <optionalLayers name="Verify">
        <edgeMappings name="RD_Verify" semanticCandidatesExpression="&lt;%$diagram.getNodeInverseRefs(&quot;Abstraction&quot;)%>" sourceMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@optionalLayers[name='Verify']/@containerMappings[name='RD_TestCase']" targetMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@containerMappings[name='RD_Requirement']" targetFinderExpression="&lt;%supplier%>" sourceFinderExpression="&lt;%client%>" domainClass="uml.Abstraction" useDomainElement="true" reconnections="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@toolSections.2/@ownedTools[name='Reconnect']">
          <style lineStyle="dash" sizeComputationExpression="1">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="&lt;&lt;verify>>">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <containerMappings name="RD_TestCase" labelDirectEdit="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@defaultLayer/@toolSections.3/@ownedTools[name='RD_Edit']" createElements="false" domainClass="uml.Operation">
          <style xsi:type="style:FlatContainerStyleDescription" labelSize="10" labelFormat="bold" labelExpression="[computeUmlLabel()/]" iconPath="/org.eclipse.papyrus.sysml/icons/requirements/TestCase.gif" backgroundStyle="Liquid">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_green']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:UserFixedColor" href="../../org.obeonetwork.dsl.uml2.design/description/uml2.odesign#//@userColorsPalettes[name='UMLPalette']/@entries[name='lighter%20green']"/>
            <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
          </style>
        </containerMappings>
        <toolSections name="Types">
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="TestCase" containerMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@optionalLayers[name='Verify']/@containerMappings[name='RD_TestCase']" iconPath="/org.eclipse.papyrus.sysml/icons/requirements/TestCase.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[container/]">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Class" referenceName="packagedElement">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['testClass ' + container.packagedElement->filter(uml::Class)->size()/]"/>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Operation" referenceName="ownedOperation" variableName="operation">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="['operation ' + container.packagedElement->filter(uml::Class)->size()/]"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Requirements', 'TestCase')/]"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Relationships">
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="Verify" edgeMappings="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Requirement%20Diagram']/@optionalLayers[name='Verify']/@edgeMappings[name='RD_Verify']" iconPath="/org.eclipse.papyrus.sysml/icons/requirements/DeriveReqt.gif">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source.eContainer(&quot;Package&quot;)%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Abstraction" referenceName="packagedElement" variableName="abstraction">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="verify"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="client" valueExpression="&lt;%$source%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="supplier" valueExpression="&lt;%$target%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Requirements', 'Verify')/]"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="clientDependency" valueExpression="&lt;%$abstraction%>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$target%>">
                  <subModelOperations xsi:type="tool:SetValue" featureName="verifiedBy" valueExpression="&lt;%$source%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
      </optionalLayers>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description_1:CrossTableDescription" name="Derive Refine Requirement Table" titleExpression="['req [package] ' + self.name + ' [Derive Refine Table]'/]" domainClass="uml.Package">
      <metamodel href="http://www.eclipse.org/papyrus/0.7.0/SysML#/"/>
      <metamodel href="http://www.eclipse.org/uml2/4.0.0/UML/Profile/L2#/"/>
      <metamodel href="http://www.eclipse.org/uml2/4.0.0/UML#/"/>
      <ownedLineMappings name="RCT_Requirements" semanticElements="[self->union(self.getStereotypeApplications()->filter(sysml::requirements::Requirement))/]" domainClass="uml.Class" semanticCandidatesExpression="&lt;%self.eAllContents(&quot;Class&quot;)[getStereotypeApplications().filter(&quot;Requirement&quot;)]%>" headerLabelExpression="['&lt;&lt;Requirement>> ' + getStereotypeApplications()->filter(sysml::requirements::Requirement).id + ' : ' + name/]">
        <delete name="RCT Delete Requirement" precondition="[false/]">
          <variables name="element" documentation="The currently edited element."/>
          <variables name="root" documentation="The semantic element corresponding to the current table."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[self/]"/>
        </delete>
      </ownedLineMappings>
      <ownedColumnMappings name="RCT_Requirement" semanticElements="&lt;%self+getStereotypeApplications()%>" headerLabelExpression="[computeUmlLabel()/]" domainClass="uml.Class" semanticCandidatesExpression="&lt;%self.eAllContents(&quot;Class&quot;)[getStereotypeApplications().filter(&quot;Requirement&quot;)]%>">
        <delete name="RCT Delete Requirement" precondition="[false/]">
          <variables name="element" documentation="The currently edited element."/>
          <variables name="root" documentation="The semantic element corresponding to the current table."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[self/]"/>
        </delete>
      </ownedColumnMappings>
      <intersection name="RCT_Derive" label="Derive" lineMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Derive%20Refine%20Requirement%20Table']/@ownedLineMappings[name='RCT_Requirements']" columnMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Derive%20Refine%20Requirement%20Table']/@ownedColumnMappings.0" labelExpression="D" useDomainClass="true" columnFinderExpression="[client/]" lineFinderExpression="[supplier/]" semanticCandidatesExpression="[getRootContainer().eAllContents(uml::Abstraction)->select(not(getStereotypeApplications()->filter(sysml::requirements::DeriveReqt)->isEmpty()))/]" domainClass="uml.Abstraction">
        <directEdit>
          <variables name="element" documentation="The currently edited element."/>
          <variables name="lineSemantic" documentation="The semantic element corresponding to the line."/>
          <variables name="columnSemantic" documentation="The semantic element corresponding to the column (only available for Intersection Mapping)."/>
          <variables name="root" documentation="The semantic element of the table."/>
          <firstModelOperation xsi:type="tool:If" conditionExpression="&lt;%$0.equalsIgnoreCase(&quot;&quot;)%>">
            <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[element.deleteAssociatedStereotype('SysML::Requirements::DeriveReqt')/]">
              <subModelOperations xsi:type="tool:RemoveElement"/>
            </subModelOperations>
          </firstModelOperation>
          <mask mask="{0}"/>
        </directEdit>
        <create name="Create Cell Derive Refine">
          <variables name="lineSemantic" documentation="The semantic element corresponding to the line."/>
          <variables name="columnSemantic" documentation="The semantic element corresponding to the column."/>
          <variables name="root" documentation="The semantic root element of the table."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[lineSemantic.eContainer(uml::Package)/]">
            <subModelOperations xsi:type="tool:Switch">
              <cases conditionExpression="[arg0.equalsIgnoreCase('D')/]">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Abstraction" referenceName="packagedElement">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="derive">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Requirements', 'DeriveReqt')/]"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="supplier" valueExpression="[lineSemantic/]"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="client" valueExpression="[columnSemantic/]"/>
                </subModelOperations>
              </cases>
              <cases conditionExpression="[arg0.equalsIgnoreCase('R')/]">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Abstraction" referenceName="packagedElement">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="refine">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('StandardProfileL2', 'Refine')/]"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="supplier" valueExpression="[lineSemantic/]"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="client" valueExpression="[columnSemantic/]"/>
                </subModelOperations>
              </cases>
              <default/>
            </subModelOperations>
          </firstModelOperation>
          <mask mask="{0}"/>
        </create>
      </intersection>
      <intersection name="RCT_Refine" label="Refine" lineMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Derive%20Refine%20Requirement%20Table']/@ownedLineMappings[name='RCT_Requirements']" columnMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Derive%20Refine%20Requirement%20Table']/@ownedColumnMappings.0" labelExpression="R" useDomainClass="true" columnFinderExpression="[client/]" lineFinderExpression="[supplier/]" semanticCandidatesExpression="&lt;%getRootContainer().eAllContents(&quot;Abstraction&quot;)[getStereotypeApplications().filter(&quot;Refine&quot;)]%>" domainClass="uml.Abstraction">
        <directEdit>
          <variables name="element" documentation="The currently edited element."/>
          <variables name="lineSemantic" documentation="The semantic element corresponding to the line."/>
          <variables name="columnSemantic" documentation="The semantic element corresponding to the column (only available for Intersection Mapping)."/>
          <variables name="root" documentation="The semantic element of the table."/>
          <firstModelOperation xsi:type="tool:If" conditionExpression="&lt;%$0.equalsIgnoreCase(&quot;&quot;)%>">
            <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[element.deleteAssociatedStereotype('Standard::Refine')/]">
              <subModelOperations xsi:type="tool:RemoveElement"/>
            </subModelOperations>
          </firstModelOperation>
          <mask mask="{0}"/>
        </directEdit>
      </intersection>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description_1:CrossTableDescription" name="Satisfy Table" titleExpression="['req [package] ' + self.name + ' [SatisfyTable]'/]" domainClass="uml.Package">
      <metamodel href="http://www.eclipse.org/papyrus/0.7.0/SysML#/"/>
      <metamodel href="http://www.eclipse.org/uml2/4.0.0/UML/Profile/L2#/"/>
      <metamodel href="http://www.eclipse.org/uml2/4.0.0/UML#/"/>
      <ownedLineMappings name="ST_Requirements" semanticElements="[self->union(self.getStereotypeApplications()->filter(sysml::requirements::Requirement))/]" domainClass="uml.Class" semanticCandidatesExpression="[packagedElement->select(not(getStereotypeApplications()->filter(sysml::requirements::Requirement)->isEmpty()))/]" headerLabelExpression="['&lt;&lt;Requirement>> ' + getStereotypeApplications()->filter(sysml::requirements::Requirement).id + ' : ' + name/]">
        <ownedSubLines name="ST_SubRequirements" semanticElements="[self->union(self.getStereotypeApplications()->filter(sysml::requirements::Requirement))/]" domainClass="uml.Class" semanticCandidatesExpression="[nestedClassifier->select(not(getStereotypeApplications()->filter(sysml::requirements::Requirement)->isEmpty()))/]" headerLabelExpression="['&lt;&lt;Requirement>> ' + getStereotypeApplications()->filter(sysml::requirements::Requirement).id + ' : ' + name/]">
          <delete name="RCT Delete Sub Requirement" precondition="[false/]">
            <variables name="element" documentation="The currently edited element."/>
            <variables name="root" documentation="The semantic element corresponding to the current table."/>
            <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[self/]"/>
          </delete>
        </ownedSubLines>
        <delete name="ST Delete Requirement" precondition="[false/]">
          <variables name="element" documentation="The currently edited element."/>
          <variables name="root" documentation="The semantic element corresponding to the current table."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[self/]"/>
        </delete>
      </ownedLineMappings>
      <ownedColumnMappings name="ST_Block" semanticElements="&lt;%self+getStereotypeApplications()%>" headerLabelExpression="[computeUmlLabel()/]" domainClass="uml.Class" semanticCandidatesExpression="&lt;%self.eAllContents().filter(&quot;Class&quot;)[getStereotypeApplications().filter(&quot;Block&quot;)]%>">
        <delete name="ST Delete Block" precondition="[false/]">
          <variables name="element" documentation="The currently edited element."/>
          <variables name="root" documentation="The semantic element corresponding to the current table."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[self/]"/>
        </delete>
      </ownedColumnMappings>
      <intersection name="ST_Satisfy" label="Satisfy" lineMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Satisfy%20Table']/@ownedLineMappings[name='ST_Requirements'] //@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Satisfy%20Table']/@ownedLineMappings[name='ST_Requirements']/@ownedSubLines[name='ST_SubRequirements']" columnMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Satisfy%20Table']/@ownedColumnMappings.0" labelExpression="S" useDomainClass="true" columnFinderExpression="[client/]" lineFinderExpression="[supplier/]" semanticCandidatesExpression="[getRootContainer().eAllContents(uml::Abstraction)->select(not(getStereotypeApplications()->filter(sysml::requirements::Satisfy)->isEmpty()))/]" domainClass="uml.Abstraction">
        <directEdit>
          <variables name="element" documentation="The currently edited element."/>
          <variables name="lineSemantic" documentation="The semantic element corresponding to the line."/>
          <variables name="columnSemantic" documentation="The semantic element corresponding to the column (only available for Intersection Mapping)."/>
          <variables name="root" documentation="The semantic element of the table."/>
          <firstModelOperation xsi:type="tool:If" conditionExpression="&lt;%$0.equalsIgnoreCase(&quot;&quot;)%>">
            <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[element.deleteAssociatedStereotype('SysML::Requirements::Satisfy')/]">
              <subModelOperations xsi:type="tool:RemoveElement"/>
            </subModelOperations>
          </firstModelOperation>
          <mask mask="{0}"/>
        </directEdit>
        <create name="Create Cell Satisfy">
          <variables name="lineSemantic" documentation="The semantic element corresponding to the line."/>
          <variables name="columnSemantic" documentation="The semantic element corresponding to the column."/>
          <variables name="root" documentation="The semantic root element of the table."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[lineSemantic.eContainer(uml::Package)/]">
            <subModelOperations xsi:type="tool:Switch">
              <cases conditionExpression="[arg0.equalsIgnoreCase('S')/]">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Abstraction" referenceName="packagedElement">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="satisfy">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Requirements', 'Satisfy')/]"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="supplier" valueExpression="[lineSemantic/]"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="client" valueExpression="[columnSemantic/]"/>
                </subModelOperations>
              </cases>
              <default/>
            </subModelOperations>
          </firstModelOperation>
          <mask mask="{0}"/>
        </create>
      </intersection>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description_1:CrossTableDescription" name="Verify Table" titleExpression="['req [package] ' + self.name + ' [VerifyTable]'/]" domainClass="uml.Package">
      <metamodel href="http://www.eclipse.org/papyrus/0.7.0/SysML#/"/>
      <metamodel href="http://www.eclipse.org/uml2/4.0.0/UML/Profile/L2#/"/>
      <metamodel href="http://www.eclipse.org/uml2/4.0.0/UML#/"/>
      <ownedLineMappings name="VT_Requirements" semanticElements="[self->union(self.getStereotypeApplications()->filter(sysml::requirements::Requirement))/]" domainClass="uml.Class" semanticCandidatesExpression="&lt;%self.eAllContents(&quot;Class&quot;)[getStereotypeApplications().filter(&quot;Requirement&quot;)]%>" headerLabelExpression="['&lt;&lt;Requirement>> ' + getStereotypeApplications()->filter(sysml::requirements::Requirement).id + ' : ' + name/]">
        <delete name="VT Delete Requirement" precondition="[false/]">
          <variables name="element" documentation="The currently edited element."/>
          <variables name="root" documentation="The semantic element corresponding to the current table."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[self/]"/>
        </delete>
      </ownedLineMappings>
      <ownedColumnMappings name="VT_TestCase" semanticElements="&lt;%self+getStereotypeApplications()%>" headerLabelExpression="[computeUmlLabel()/]" domainClass="uml.Operation" semanticCandidatesExpression="&lt;%self.eAllContents().filter(&quot;Operation&quot;)[getStereotypeApplications().filter(&quot;TestCase&quot;)]%>">
        <delete name="VT Delete TestCase" precondition="[false/]">
          <variables name="element" documentation="The currently edited element."/>
          <variables name="root" documentation="The semantic element corresponding to the current table."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[self/]"/>
        </delete>
      </ownedColumnMappings>
      <intersection name="VT_Verify" label="Verify" lineMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Verify%20Table']/@ownedLineMappings[name='VT_Requirements']" columnMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Verify%20Table']/@ownedColumnMappings.0" labelExpression="V" useDomainClass="true" columnFinderExpression="[client/]" lineFinderExpression="[supplier/]" semanticCandidatesExpression="[getRootContainer().eAllContents(uml::Abstraction)->select(not(getStereotypeApplications()->filter(sysml::requirements::Verify)->isEmpty()))/]" domainClass="uml.Abstraction">
        <directEdit>
          <variables name="element" documentation="The currently edited element."/>
          <variables name="lineSemantic" documentation="The semantic element corresponding to the line."/>
          <variables name="columnSemantic" documentation="The semantic element corresponding to the column (only available for Intersection Mapping)."/>
          <variables name="root" documentation="The semantic element of the table."/>
          <firstModelOperation xsi:type="tool:If" conditionExpression="&lt;%$0.equalsIgnoreCase(&quot;&quot;)%>">
            <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[element.deleteAssociatedStereotype('SysML::Requirements::Verify')/]">
              <subModelOperations xsi:type="tool:RemoveElement"/>
            </subModelOperations>
          </firstModelOperation>
          <mask mask="{0}"/>
        </directEdit>
        <create name="Create Cell Verify">
          <variables name="lineSemantic" documentation="The semantic element corresponding to the line."/>
          <variables name="columnSemantic" documentation="The semantic element corresponding to the column."/>
          <variables name="root" documentation="The semantic root element of the table."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[lineSemantic.eContainer(uml::Package)/]">
            <subModelOperations xsi:type="tool:Switch">
              <cases conditionExpression="[arg0.equalsIgnoreCase('V')/]">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Abstraction" referenceName="packagedElement">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="verify">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('SysML::Requirements', 'Verify')/]"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="supplier" valueExpression="[lineSemantic/]"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="client" valueExpression="[columnSemantic/]"/>
                </subModelOperations>
              </cases>
              <default/>
            </subModelOperations>
          </firstModelOperation>
          <mask mask="{0}"/>
        </create>
      </intersection>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description_1:CrossTableDescription" name="Refine Table" titleExpression="['req [package] ' + self.name + ' [RefineTable]'/]" domainClass="uml.Package">
      <metamodel href="http://www.eclipse.org/papyrus/0.7.0/SysML#/"/>
      <metamodel href="http://www.eclipse.org/uml2/4.0.0/UML/Profile/L2#/"/>
      <metamodel href="http://www.eclipse.org/uml2/4.0.0/UML#/"/>
      <ownedLineMappings name="RT_Requirements" semanticElements="[self->union(self.getStereotypeApplications()->filter(sysml::requirements::Requirement))/]" domainClass="uml.Class" semanticCandidatesExpression="&lt;%self.eAllContents(&quot;Class&quot;)[getStereotypeApplications().filter(&quot;Requirement&quot;)]%>" headerLabelExpression="['&lt;&lt;Requirement>> ' + getStereotypeApplications()->filter(sysml::requirements::Requirement).id + ' : ' + name/]">
        <delete name="VT Delete Requirement" precondition="[false/]">
          <variables name="element" documentation="The currently edited element."/>
          <variables name="root" documentation="The semantic element corresponding to the current table."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[self/]"/>
        </delete>
      </ownedLineMappings>
      <ownedColumnMappings name="RT_Behavior" semanticElements="&lt;%self+getStereotypeApplications()%>" headerLabelExpression="[computeUmlLabel()/]" domainClass="uml.Element" semanticCandidatesExpression="&lt;%self.eAllContents().filter(&quot;Activity&quot;)+self.eAllContents().filter(&quot;StateMachine&quot;)+self.eAllContents().filter(&quot;UseCase&quot;)+self.eAllContents().filter(&quot;Collaboration&quot;)%>">
        <delete name="VT Delete TestCase" precondition="[false/]">
          <variables name="element" documentation="The currently edited element."/>
          <variables name="root" documentation="The semantic element corresponding to the current table."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[self/]"/>
        </delete>
      </ownedColumnMappings>
      <intersection name="RT_Refine" label="Refine" lineMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Refine%20Table']/@ownedLineMappings[name='RT_Requirements']" columnMapping="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Refine%20Table']/@ownedColumnMappings.0" labelExpression="R" useDomainClass="true" columnFinderExpression="[client/]" lineFinderExpression="[supplier/]" semanticCandidatesExpression="&lt;%getRootContainer().eAllContents(&quot;Abstraction&quot;)[getStereotypeApplications().filter(&quot;Refine&quot;)]%>" domainClass="uml.Abstraction">
        <directEdit>
          <variables name="element" documentation="The currently edited element."/>
          <variables name="lineSemantic" documentation="The semantic element corresponding to the line."/>
          <variables name="columnSemantic" documentation="The semantic element corresponding to the column (only available for Intersection Mapping)."/>
          <variables name="root" documentation="The semantic element of the table."/>
          <firstModelOperation xsi:type="tool:If" conditionExpression="&lt;%$0.equalsIgnoreCase(&quot;&quot;)%>">
            <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[element.deleteAssociatedStereotype('standardProfileL2::Refine')/]">
              <subModelOperations xsi:type="tool:RemoveElement"/>
            </subModelOperations>
          </firstModelOperation>
          <mask mask="{0}"/>
        </directEdit>
        <create name="Create Cell Refine">
          <variables name="lineSemantic" documentation="The semantic element corresponding to the line."/>
          <variables name="columnSemantic" documentation="The semantic element corresponding to the column."/>
          <variables name="root" documentation="The semantic root element of the table."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="[lineSemantic.eContainer(uml::Package)/]">
            <subModelOperations xsi:type="tool:Switch">
              <cases conditionExpression="[arg0.equalsIgnoreCase('R')/]">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="uml.Abstraction" referenceName="packagedElement">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="refine">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="[createAssociatedStereotype('StandardProfileL2', 'Refine')/]"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="supplier" valueExpression="[lineSemantic/]"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="client" valueExpression="[columnSemantic/]"/>
                </subModelOperations>
              </cases>
              <default/>
            </subModelOperations>
          </firstModelOperation>
          <mask mask="{0}"/>
        </create>
      </intersection>
    </ownedRepresentations>
    <ownedRepresentationExtensions xsi:type="description:DiagramExtensionDescription" name="SysML Package Hierarchy" viewpointURI="viewpoint:/org.obeonetwork.dsl.uml2.design/UML Structural Modeling" representationName="Package Hierarchy">
      <layers name="SysML layer">
        <toolSections>
          <ownedTools xsi:type="tool:DiagramCreationDescription" name="Block Definition Diagram" diagramDescription="//@ownedViewpoints[name='SysML']/@ownedRepresentations[name='Block%20Definition%20Diagram']">
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="[self/]"/>
            </initialOperation>
            <containerViewVariable name="containerView"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
        </toolSections>
      </layers>
    </ownedRepresentationExtensions>
    <ownedJavaExtensions qualifiedClassName="org.obeonetwork.dsl.sysml.design.services.SysMLServices"/>
    <ownedJavaExtensions qualifiedClassName="org.obeonetwork.dsl.uml2.design.services.LabelServices"/>
    <ownedJavaExtensions qualifiedClassName="org.obeonetwork.dsl.uml2.design.services.UMLServices"/>
    <ownedJavaExtensions qualifiedClassName="org.obeonetwork.dsl.uml2.design.services.UMLProfileServices"/>
    <ownedJavaExtensions qualifiedClassName="org.obeonetwork.dsl.uml2.design.services.EcoreServices"/>
    <ownedJavaExtensions qualifiedClassName="org.obeonetwork.dsl.sysml.design.services.PortServices"/>
    <ownedJavaExtensions qualifiedClassName="org.obeonetwork.dsl.sysml.design.services.DebugServices"/>
  </ownedViewpoints>
  <userColorsPalettes name="SysML Color Palette">
    <entries xsi:type="description:UserFixedColor" red="126" green="177" blue="254" name="BlueBlock"/>
    <entries xsi:type="description:UserFixedColor" red="230" green="230" blue="250" name="BlueDataType"/>
    <entries xsi:type="description:UserFixedColor" red="220" green="220" blue="240" name="BluePrimitiveType"/>
    <entries xsi:type="description:UserFixedColor" red="230" green="230" blue="230" name="BluePortInOut"/>
    <entries xsi:type="description:UserFixedColor" red="140" green="140" blue="232" name="PortIn"/>
    <entries xsi:type="description:UserFixedColor" red="113" green="171" blue="203" name="PortOut"/>
  </userColorsPalettes>
</description:Group>
